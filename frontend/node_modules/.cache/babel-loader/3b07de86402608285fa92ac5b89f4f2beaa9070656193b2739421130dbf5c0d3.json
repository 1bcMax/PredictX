{"ast":null,"code":"import { PrivyClientError as t } from \"../../Error.mjs\";\nconst e = ({\n  client: e,\n  openAuthSession: r\n}) => async ({\n  providerAppId: i,\n  redirectUrl: o\n}) => {\n  let a = `privy:${i}`,\n    {\n      url: n\n    } = await e.auth.oauth.generateURL(a, o),\n    s = await r(n),\n    u = s.privy_oauth_state,\n    h = s.privy_oauth_code;\n  if (!u || !h) throw new t({\n    code: \"login_with_oauth_returned_with_invalid_credentials\",\n    error: \"Auth session oauth returned invalid credentials\"\n  });\n  let d = e.addOAuthTokensListener(t => {\n      e.crossApp.updateOnCrossAppAuthentication(i, t);\n    }),\n    p = await e.auth.oauth.linkWithCode(h, u, a);\n  return d.unsubscribe(), p;\n};\nexport { e as linkWithCrossAppAuth };","map":{"version":3,"names":["PrivyClientError","t","e","client","openAuthSession","r","providerAppId","i","redirectUrl","o","a","url","n","auth","oauth","generateURL","s","u","privy_oauth_state","h","privy_oauth_code","code","error","d","addOAuthTokensListener","crossApp","updateOnCrossAppAuthentication","p","linkWithCode","unsubscribe","linkWithCrossAppAuth"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/node_modules/@privy-io/js-sdk-core/dist/esm/action/crossApp/linkWithCrossAppAuth.mjs"],"sourcesContent":["import{PrivyClientError as t}from\"../../Error.mjs\";const e=({client:e,openAuthSession:r})=>async({providerAppId:i,redirectUrl:o})=>{let a=`privy:${i}`,{url:n}=await e.auth.oauth.generateURL(a,o),s=await r(n),u=s.privy_oauth_state,h=s.privy_oauth_code;if(!u||!h)throw new t({code:\"login_with_oauth_returned_with_invalid_credentials\",error:\"Auth session oauth returned invalid credentials\"});let d=e.addOAuthTokensListener((t=>{e.crossApp.updateOnCrossAppAuthentication(i,t)})),p=await e.auth.oauth.linkWithCode(h,u,a);return d.unsubscribe(),p};export{e as linkWithCrossAppAuth};\n"],"mappings":"AAAA,SAAOA,gBAAgB,IAAIC,CAAC,QAAK,iBAAiB;AAAC,MAAMC,CAAC,GAACA,CAAC;EAACC,MAAM,EAACD,CAAC;EAACE,eAAe,EAACC;AAAC,CAAC,KAAG,OAAM;EAACC,aAAa,EAACC,CAAC;EAACC,WAAW,EAACC;AAAC,CAAC,KAAG;EAAC,IAAIC,CAAC,GAAC,SAASH,CAAC,EAAE;IAAC;MAACI,GAAG,EAACC;IAAC,CAAC,GAAC,MAAMV,CAAC,CAACW,IAAI,CAACC,KAAK,CAACC,WAAW,CAACL,CAAC,EAACD,CAAC,CAAC;IAACO,CAAC,GAAC,MAAMX,CAAC,CAACO,CAAC,CAAC;IAACK,CAAC,GAACD,CAAC,CAACE,iBAAiB;IAACC,CAAC,GAACH,CAAC,CAACI,gBAAgB;EAAC,IAAG,CAACH,CAAC,IAAE,CAACE,CAAC,EAAC,MAAM,IAAIlB,CAAC,CAAC;IAACoB,IAAI,EAAC,oDAAoD;IAACC,KAAK,EAAC;EAAiD,CAAC,CAAC;EAAC,IAAIC,CAAC,GAACrB,CAAC,CAACsB,sBAAsB,CAAEvB,CAAC,IAAE;MAACC,CAAC,CAACuB,QAAQ,CAACC,8BAA8B,CAACnB,CAAC,EAACN,CAAC,CAAC;IAAA,CAAE,CAAC;IAAC0B,CAAC,GAAC,MAAMzB,CAAC,CAACW,IAAI,CAACC,KAAK,CAACc,YAAY,CAACT,CAAC,EAACF,CAAC,EAACP,CAAC,CAAC;EAAC,OAAOa,CAAC,CAACM,WAAW,CAAC,CAAC,EAACF,CAAC;AAAA,CAAC;AAAC,SAAOzB,CAAC,IAAI4B,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}