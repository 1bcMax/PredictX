{"ast":null,"code":"import e from \"fetch-retry\";\nimport { v4 as t } from \"uuid\";\nimport { PrivyErrorCode as s } from \"@privy-io/api-base\";\nimport { getPathWithParams as i, AppConfig as r, AnalyticsEvent as a, RefreshSession as n } from \"@privy-io/public-api\";\nimport { PrivyClientError as o, PrivyApiError as h } from \"../Error.mjs\";\nimport { Session as c } from \"../Session.mjs\";\nimport l from \"../toAbortSignalTimeout.mjs\";\nimport { toSearchParams as d } from \"../utils/toSearchParams.mjs\";\nimport \"eventemitter3\";\nimport \"jose\";\nimport \"js-cookie\";\nimport \"../Token.mjs\";\nimport \"../utils/allSettled.mjs\";\nlet p = \"privy:caid\";\nclass u {\n  setCallbacks(e) {\n    this.callbacks = {\n      ...this.callbacks,\n      ...e\n    };\n  }\n  get isReady() {\n    return !!this._config;\n  }\n  get config() {\n    return this._config;\n  }\n  get caid() {\n    return this._analyticsId;\n  }\n  async _initialize() {\n    if (this.isReady) this.callbacks?.setIsReady?.(!0);else {\n      if (!(await this.isStorageAccessible())) throw new o({\n        code: \"storage_error\",\n        error: \"Unable to access storage\"\n      });\n      this._config = await this.getAppConfig(), this._config?.custom_api_url && (this.baseUrl = this._config.custom_api_url, this.session.isUsingServerCookies = !0), this.callbacks?.setIsReady?.(!0), this.createAnalyticsEvent(\"sdk_initialize\", {});\n    }\n  }\n  async fetch(e, {\n    body: t,\n    params: s,\n    query: r,\n    headers: a,\n    options: n = {\n      onRequest: this._beforeRequest.bind(this)\n    }\n  }) {\n    let o = new Request(`${this.baseUrl}${i(e.path, s)}${d(r)}`, {\n        method: e.method,\n        body: JSON.stringify(t),\n        headers: a\n      }),\n      c = await n.onRequest(o),\n      l = await this._fetch(o, c),\n      p = await l.json();\n    if (l.status > 299) throw new h(p);\n    return p;\n  }\n  async _beforeRequestWithoutInitialize(e) {\n    let t = await this.session.getToken(),\n      s = new Headers(e.headers);\n    s.set(\"privy-app-id\", this.appId), this.appClientId && s.set(\"privy-client-id\", this.appClientId), s.set(\"privy-client\", this._sdkVersion), t && s.set(\"Authorization\", `Bearer ${t}`), s.set(\"Content-Type\", \"application/json\"), s.set(\"Accept\", \"application/json\");\n    let i = await this._getOrGenerateClientAnalyticsId();\n    return i && s.set(\"privy-ca-id\", i), this.nativeAppIdentifier && s.set(\"x-native-app-identifier\", this.nativeAppIdentifier), {\n      signal: l(2e4),\n      headers: s,\n      credentials: \"include\"\n    };\n  }\n  async beforeRequestWithoutRefresh(e) {\n    return await this._initialize(), this._beforeRequestWithoutInitialize(e);\n  }\n  async _beforeRequest(e) {\n    return await this._initialize(), await this.getAccessToken(), this.beforeRequestWithoutRefresh(e);\n  }\n  async getAppConfig() {\n    return await this.fetch(r, {\n      params: {\n        app_id: this.appId\n      },\n      options: {\n        onRequest: this._beforeRequestWithoutInitialize.bind(this)\n      }\n    });\n  }\n  async _getOrGenerateClientAnalyticsId() {\n    if (this._analyticsId) return this._analyticsId;\n    try {\n      let e = await this._storage.get(p);\n      if (\"string\" == typeof e && e.length > 0) return this._analyticsId = e, e;\n    } catch (e) {\n      console.error(\"Unable to load clientId\", e);\n    }\n    try {\n      this._analyticsId = t();\n    } catch (e) {\n      console.error(\"Unable to generate uuidv4\", e);\n    }\n    if (!this._analyticsId) return null;\n    try {\n      await this._storage.put(p, this._analyticsId);\n    } catch (e) {\n      console.error(`Unable to store clientId: ${this._analyticsId}`, e);\n    }\n    return this._analyticsId;\n  }\n  async destroyClientAnalyticsId() {\n    try {\n      return await this._storage.del(p);\n    } catch (e) {\n      console.error(\"Unable to delete clientId\", e);\n    }\n  }\n  async createAnalyticsEvent(e, t) {\n    try {\n      await this.fetch(a, {\n        body: {\n          event_name: e,\n          client_id: await this._getOrGenerateClientAnalyticsId(),\n          payload: t\n        },\n        options: {\n          onRequest: this.beforeRequestWithoutRefresh.bind(this)\n        }\n      });\n    } catch (e) {}\n  }\n  async refreshSession(e = !1) {\n    let t = (await this.session.getRefreshToken()) ?? void 0,\n      s = t ?? \"key\",\n      i = this._cache.get(s);\n    if (i) return console.debug(\"Found in-flight session refresh request, deduping\"), await i;\n    let r = this._refreshSession(t, e);\n    this._cache.set(s, r);\n    try {\n      return await r;\n    } finally {\n      this._cache.delete(s);\n    }\n  }\n  async _refreshSession(e, t) {\n    let i = await this.session.getToken();\n    if (!this.session.hasRefreshCredentials(i, e ?? null)) throw this.debug(\"[privy:refresh] missing tokens, skipping request\"), await this._initialize(), new h({\n      code: s.MISSING_OR_INVALID_TOKEN,\n      error: \"No tokens found in storage\"\n    });\n    try {\n      this.debug(`[privy:refresh] fetching: ${n.path}`);\n      let s = await this.fetch(n, {\n          body: {\n            refresh_token: e\n          },\n          options: {\n            onRequest: this.beforeRequestWithoutRefresh.bind(this)\n          }\n        }),\n        i = s.session_update_action;\n      return this.debug(`[privy:refresh] response: ${i}`), t || this.callbacks?.setUser?.(s.user), \"set\" === i && (await this.session.updateWithTokensResponse(s), this.debug(\"[privy:refresh] tokens stored\")), \"clear\" === i && (await this.session.destroyLocalState(), this.debug(\"[privy:refresh] tokens cleared\"), t || this.callbacks?.setUser?.(null)), \"ignore\" === i && s.token && (await this.session.storeToken(s.token), this.debug(\"[privy:refresh] access token stored\"), s.identity_token && (this.debug(\"[privy:refresh] identity token stored\"), await this.session.storeIdentityToken(s.identity_token))), this.debug(\"[privy:refresh] returning response\"), s;\n    } catch (e) {\n      throw this.debug(`[privy:refresh] error: ${e.message ?? \"unknown error\"}`), e instanceof h && e.code === s.MISSING_OR_INVALID_TOKEN && (await this.session.destroyLocalState(), t || this.callbacks?.setUser?.(null)), e;\n    }\n  }\n  async getAccessToken() {\n    let [e, t] = await Promise.all([this.session.getToken(), this.session.getRefreshToken()]);\n    return !this.session.tokenIsActive(e) && this.session.hasRefreshCredentials(e, t) ? (await this.refreshSession(), await this.session.getToken()) : e;\n  }\n  async getIdentityToken() {\n    return await this.session.getIdentityToken();\n  }\n  async isStorageAccessible() {\n    try {\n      let e = `privy:__storage__test-${t()}`,\n        s = \"blobby\";\n      await this._storage.put(e, s);\n      let i = await this._storage.get(e);\n      return await this._storage.del(e), i === s;\n    } catch (e) {\n      return console.error(e), !1;\n    }\n  }\n  debug(e) {\n    \"DEBUG\" === this._logLevel && console.debug(e);\n  }\n  constructor(t) {\n    this._sdkVersion = \"js-sdk-core:0.43.0\", this._cache = new Map(), this._storage = t.storage, this._analyticsId = null, this._getOrGenerateClientAnalyticsId(), this.baseUrl = t.baseUrl ?? \"https://auth.privy.io\", this.appId = t.appId, this.appClientId = t.appClientId, this._sdkVersion = t.sdkVersion ?? this._sdkVersion, this._logLevel = t.logLevel, this.callbacks = t.callbacks, this.nativeAppIdentifier = t.nativeAppIdentifier, this.session = new c({\n      storage: this._storage,\n      isUsingServerCookies: !1,\n      appId: t.appId\n    }), this._fetch = e(fetch, {\n      retries: 3,\n      retryDelay: 500\n    }), this.session.on(\"error_storing_tokens\", e => {\n      this.createAnalyticsEvent(\"error_updating_tokens_in_storage\", {\n        reason: e\n      });\n    });\n  }\n}\nexport { u as PrivyInternal };","map":{"version":3,"names":["e","v4","t","PrivyErrorCode","s","getPathWithParams","i","AppConfig","r","AnalyticsEvent","a","RefreshSession","n","PrivyClientError","o","PrivyApiError","h","Session","c","l","toSearchParams","d","p","u","setCallbacks","callbacks","isReady","_config","config","caid","_analyticsId","_initialize","setIsReady","isStorageAccessible","code","error","getAppConfig","custom_api_url","baseUrl","session","isUsingServerCookies","createAnalyticsEvent","fetch","body","params","query","headers","options","onRequest","_beforeRequest","bind","Request","path","method","JSON","stringify","_fetch","json","status","_beforeRequestWithoutInitialize","getToken","Headers","set","appId","appClientId","_sdkVersion","_getOrGenerateClientAnalyticsId","nativeAppIdentifier","signal","credentials","beforeRequestWithoutRefresh","getAccessToken","app_id","_storage","get","length","console","put","destroyClientAnalyticsId","del","event_name","client_id","payload","refreshSession","getRefreshToken","_cache","debug","_refreshSession","delete","hasRefreshCredentials","MISSING_OR_INVALID_TOKEN","refresh_token","session_update_action","setUser","user","updateWithTokensResponse","destroyLocalState","token","storeToken","identity_token","storeIdentityToken","message","Promise","all","tokenIsActive","getIdentityToken","_logLevel","constructor","Map","storage","sdkVersion","logLevel","retries","retryDelay","on","reason","PrivyInternal"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/node_modules/@privy-io/js-sdk-core/dist/esm/client/PrivyInternal.mjs"],"sourcesContent":["import e from\"fetch-retry\";import{v4 as t}from\"uuid\";import{PrivyErrorCode as s}from\"@privy-io/api-base\";import{getPathWithParams as i,AppConfig as r,AnalyticsEvent as a,RefreshSession as n}from\"@privy-io/public-api\";import{PrivyClientError as o,PrivyApiError as h}from\"../Error.mjs\";import{Session as c}from\"../Session.mjs\";import l from\"../toAbortSignalTimeout.mjs\";import{toSearchParams as d}from\"../utils/toSearchParams.mjs\";import\"eventemitter3\";import\"jose\";import\"js-cookie\";import\"../Token.mjs\";import\"../utils/allSettled.mjs\";let p=\"privy:caid\";class u{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new o({code:\"storage_error\",error:\"Unable to access storage\"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this.createAnalyticsEvent(\"sdk_initialize\",{})}}async fetch(e,{body:t,params:s,query:r,headers:a,options:n={onRequest:this._beforeRequest.bind(this)}}){let o=new Request(`${this.baseUrl}${i(e.path,s)}${d(r)}`,{method:e.method,body:JSON.stringify(t),headers:a}),c=await n.onRequest(o),l=await this._fetch(o,c),p=await l.json();if(l.status>299)throw new h(p);return p}async _beforeRequestWithoutInitialize(e){let t=await this.session.getToken(),s=new Headers(e.headers);s.set(\"privy-app-id\",this.appId),this.appClientId&&s.set(\"privy-client-id\",this.appClientId),s.set(\"privy-client\",this._sdkVersion),t&&s.set(\"Authorization\",`Bearer ${t}`),s.set(\"Content-Type\",\"application/json\"),s.set(\"Accept\",\"application/json\");let i=await this._getOrGenerateClientAnalyticsId();return i&&s.set(\"privy-ca-id\",i),this.nativeAppIdentifier&&s.set(\"x-native-app-identifier\",this.nativeAppIdentifier),{signal:l(2e4),headers:s,credentials:\"include\"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(r,{params:{app_id:this.appId},options:{onRequest:this._beforeRequestWithoutInitialize.bind(this)}})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(p);if(\"string\"==typeof e&&e.length>0)return this._analyticsId=e,e}catch(e){console.error(\"Unable to load clientId\",e)}try{this._analyticsId=t()}catch(e){console.error(\"Unable to generate uuidv4\",e)}if(!this._analyticsId)return null;try{await this._storage.put(p,this._analyticsId)}catch(e){console.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(p)}catch(e){console.error(\"Unable to delete clientId\",e)}}async createAnalyticsEvent(e,t){try{await this.fetch(a,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:t},options:{onRequest:this.beforeRequestWithoutRefresh.bind(this)}})}catch(e){}}async refreshSession(e=!1){let t=await this.session.getRefreshToken()??void 0,s=t??\"key\",i=this._cache.get(s);if(i)return console.debug(\"Found in-flight session refresh request, deduping\"),await i;let r=this._refreshSession(t,e);this._cache.set(s,r);try{return await r}finally{this._cache.delete(s)}}async _refreshSession(e,t){let i=await this.session.getToken();if(!this.session.hasRefreshCredentials(i,e??null))throw this.debug(\"[privy:refresh] missing tokens, skipping request\"),await this._initialize(),new h({code:s.MISSING_OR_INVALID_TOKEN,error:\"No tokens found in storage\"});try{this.debug(`[privy:refresh] fetching: ${n.path}`);let s=await this.fetch(n,{body:{refresh_token:e},options:{onRequest:this.beforeRequestWithoutRefresh.bind(this)}}),i=s.session_update_action;return this.debug(`[privy:refresh] response: ${i}`),t||this.callbacks?.setUser?.(s.user),\"set\"===i&&(await this.session.updateWithTokensResponse(s),this.debug(\"[privy:refresh] tokens stored\")),\"clear\"===i&&(await this.session.destroyLocalState(),this.debug(\"[privy:refresh] tokens cleared\"),t||this.callbacks?.setUser?.(null)),\"ignore\"===i&&s.token&&(await this.session.storeToken(s.token),this.debug(\"[privy:refresh] access token stored\"),s.identity_token&&(this.debug(\"[privy:refresh] identity token stored\"),await this.session.storeIdentityToken(s.identity_token))),this.debug(\"[privy:refresh] returning response\"),s}catch(e){throw this.debug(`[privy:refresh] error: ${e.message??\"unknown error\"}`),e instanceof h&&e.code===s.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),t||this.callbacks?.setUser?.(null)),e}}async getAccessToken(){let[e,t]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);return!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,t)?(await this.refreshSession(),await this.session.getToken()):e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${t()}`,s=\"blobby\";await this._storage.put(e,s);let i=await this._storage.get(e);return await this._storage.del(e),i===s}catch(e){return console.error(e),!1}}debug(e){\"DEBUG\"===this._logLevel&&console.debug(e)}constructor(t){this._sdkVersion=\"js-sdk-core:0.43.0\",this._cache=new Map,this._storage=t.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=t.baseUrl??\"https://auth.privy.io\",this.appId=t.appId,this.appClientId=t.appClientId,this._sdkVersion=t.sdkVersion??this._sdkVersion,this._logLevel=t.logLevel,this.callbacks=t.callbacks,this.nativeAppIdentifier=t.nativeAppIdentifier,this.session=new c({storage:this._storage,isUsingServerCookies:!1,appId:t.appId}),this._fetch=e(fetch,{retries:3,retryDelay:500}),this.session.on(\"error_storing_tokens\",(e=>{this.createAnalyticsEvent(\"error_updating_tokens_in_storage\",{reason:e})}))}}export{u as PrivyInternal};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}