{"ast":null,"code":"import { useCallback as t } from \"react\";\nimport { PrivyErrorCode as e } from \"../errors.mjs\";\nimport { useCaptcha as r, CaptchaError as s } from \"./captcha-context.mjs\";\nimport { usePrivyInternal as i } from \"./internal-context.mjs\";\nimport \"ofetch\";\nimport \"react/jsx-runtime\";\nimport \"./index.mjs\";\nimport \"../utils/index.mjs\";\nimport \"../connectors/get-legacy-injected-providers.mjs\";\nimport \"../connectors/is-wallet-installed.mjs\";\nimport \"../utils/eth/getPublicClient.mjs\";\nimport \"viem\";\nconst o = o => {\n  let a = r(),\n    {\n      initSignupWithPasskey: n,\n      signupWithPasskey: c,\n      passkeyAuthState: m,\n      setPasskeyAuthState: l\n    } = i();\n  return {\n    signupWithPasskey: t(async () => {\n      try {\n        let t;\n        if (a.enabled && \"error\" === a.status) throw new s(a.error, null, e.CAPTCHA_FAILURE);\n        a.enabled && \"success\" !== a.status && (a.execute(), t = await a.waitForResult()), await n({\n          captchaToken: t,\n          withPrivyUi: !1\n        });\n        let {\n          user: r,\n          isNewUser: i,\n          wasAlreadyAuthenticated: m,\n          loginAccount: l\n        } = await c();\n        o?.onComplete?.({\n          user: r,\n          isNewUser: i,\n          wasAlreadyAuthenticated: m,\n          loginMethod: \"passkey\",\n          loginAccount: l\n        });\n      } catch (t) {\n        throw l({\n          status: \"error\",\n          error: t\n        }), o?.onError?.(t.privyErrorCode || e.UNKNOWN_AUTH_ERROR), t;\n      }\n    }, [c, a.status]),\n    state: m\n  };\n};\nexport { o as useSignupWithPasskey };","map":{"version":3,"names":["useCallback","t","PrivyErrorCode","e","useCaptcha","r","CaptchaError","s","usePrivyInternal","i","o","a","initSignupWithPasskey","n","signupWithPasskey","c","passkeyAuthState","m","setPasskeyAuthState","l","enabled","status","error","CAPTCHA_FAILURE","execute","waitForResult","captchaToken","withPrivyUi","user","isNewUser","wasAlreadyAuthenticated","loginAccount","onComplete","loginMethod","onError","privyErrorCode","UNKNOWN_AUTH_ERROR","state","useSignupWithPasskey"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/dist/esm/hooks/useSignupWithPasskey.mjs"],"sourcesContent":["import{useCallback as t}from\"react\";import{PrivyErrorCode as e}from\"../errors.mjs\";import{useCaptcha as r,CaptchaError as s}from\"./captcha-context.mjs\";import{usePrivyInternal as i}from\"./internal-context.mjs\";import\"ofetch\";import\"react/jsx-runtime\";import\"./index.mjs\";import\"../utils/index.mjs\";import\"../connectors/get-legacy-injected-providers.mjs\";import\"../connectors/is-wallet-installed.mjs\";import\"../utils/eth/getPublicClient.mjs\";import\"viem\";const o=o=>{let a=r(),{initSignupWithPasskey:n,signupWithPasskey:c,passkeyAuthState:m,setPasskeyAuthState:l}=i();return{signupWithPasskey:t((async()=>{try{let t;if(a.enabled&&\"error\"===a.status)throw new s(a.error,null,e.CAPTCHA_FAILURE);a.enabled&&\"success\"!==a.status&&(a.execute(),t=await a.waitForResult()),await n({captchaToken:t,withPrivyUi:!1});let{user:r,isNewUser:i,wasAlreadyAuthenticated:m,loginAccount:l}=await c();o?.onComplete?.({user:r,isNewUser:i,wasAlreadyAuthenticated:m,loginMethod:\"passkey\",loginAccount:l})}catch(t){throw l({status:\"error\",error:t}),o?.onError?.(t.privyErrorCode||e.UNKNOWN_AUTH_ERROR),t}}),[c,a.status]),state:m}};export{o as useSignupWithPasskey};\n"],"mappings":"AAAA,SAAOA,WAAW,IAAIC,CAAC,QAAK,OAAO;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,eAAe;AAAC,SAAOC,UAAU,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,QAAK,uBAAuB;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,wBAAwB;AAAC,OAAM,QAAQ;AAAC,OAAM,mBAAmB;AAAC,OAAM,aAAa;AAAC,OAAM,oBAAoB;AAAC,OAAM,iDAAiD;AAAC,OAAM,uCAAuC;AAAC,OAAM,kCAAkC;AAAC,OAAM,MAAM;AAAC,MAAMC,CAAC,GAACA,CAAC,IAAE;EAAC,IAAIC,CAAC,GAACN,CAAC,CAAC,CAAC;IAAC;MAACO,qBAAqB,EAACC,CAAC;MAACC,iBAAiB,EAACC,CAAC;MAACC,gBAAgB,EAACC,CAAC;MAACC,mBAAmB,EAACC;IAAC,CAAC,GAACV,CAAC,CAAC,CAAC;EAAC,OAAM;IAACK,iBAAiB,EAACb,CAAC,CAAE,YAAS;MAAC,IAAG;QAAC,IAAIA,CAAC;QAAC,IAAGU,CAAC,CAACS,OAAO,IAAE,OAAO,KAAGT,CAAC,CAACU,MAAM,EAAC,MAAM,IAAId,CAAC,CAACI,CAAC,CAACW,KAAK,EAAC,IAAI,EAACnB,CAAC,CAACoB,eAAe,CAAC;QAACZ,CAAC,CAACS,OAAO,IAAE,SAAS,KAAGT,CAAC,CAACU,MAAM,KAAGV,CAAC,CAACa,OAAO,CAAC,CAAC,EAACvB,CAAC,GAAC,MAAMU,CAAC,CAACc,aAAa,CAAC,CAAC,CAAC,EAAC,MAAMZ,CAAC,CAAC;UAACa,YAAY,EAACzB,CAAC;UAAC0B,WAAW,EAAC,CAAC;QAAC,CAAC,CAAC;QAAC,IAAG;UAACC,IAAI,EAACvB,CAAC;UAACwB,SAAS,EAACpB,CAAC;UAACqB,uBAAuB,EAACb,CAAC;UAACc,YAAY,EAACZ;QAAC,CAAC,GAAC,MAAMJ,CAAC,CAAC,CAAC;QAACL,CAAC,EAAEsB,UAAU,GAAG;UAACJ,IAAI,EAACvB,CAAC;UAACwB,SAAS,EAACpB,CAAC;UAACqB,uBAAuB,EAACb,CAAC;UAACgB,WAAW,EAAC,SAAS;UAACF,YAAY,EAACZ;QAAC,CAAC,CAAC;MAAA,CAAC,QAAMlB,CAAC,EAAC;QAAC,MAAMkB,CAAC,CAAC;UAACE,MAAM,EAAC,OAAO;UAACC,KAAK,EAACrB;QAAC,CAAC,CAAC,EAACS,CAAC,EAAEwB,OAAO,GAAGjC,CAAC,CAACkC,cAAc,IAAEhC,CAAC,CAACiC,kBAAkB,CAAC,EAACnC,CAAC;MAAA;IAAC,CAAC,EAAE,CAACc,CAAC,EAACJ,CAAC,CAACU,MAAM,CAAC,CAAC;IAACgB,KAAK,EAACpB;EAAC,CAAC;AAAA,CAAC;AAAC,SAAOP,CAAC,IAAI4B,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}