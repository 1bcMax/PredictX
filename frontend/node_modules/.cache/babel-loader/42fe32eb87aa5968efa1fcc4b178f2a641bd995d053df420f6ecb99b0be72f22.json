{"ast":null,"code":"import { useCallback as o, useEffect as t } from \"react\";\nimport { useIsServerConfigLoaded as r } from \"../configuration/context.mjs\";\nimport { PrivyErrorCode as s } from \"../errors.mjs\";\nimport { useCaptcha as i, CaptchaError as n } from \"./captcha-context.mjs\";\nimport { usePrivyEventSubscription as e } from \"./events-context.mjs\";\nimport { usePrivyInternal as c } from \"./internal-context.mjs\";\nimport { usePrivyContext as m } from \"./privy-context.mjs\";\nimport { detectCompletingOAuthFlow as a } from \"../auth-flows/oauth/detectCompletingOAuthFlow.mjs\";\nimport { stripUrlOAuthParamsAndRemoveStateCode as p } from \"../auth-flows/oauth/stripUrlOAuthParamsAndRemoveStateCode.mjs\";\nimport \"react/jsx-runtime\";\nimport \"../config.mjs\";\nimport \"../configuration/defaultClientConfig.mjs\";\nimport \"../constants.mjs\";\nimport \"../configuration/login-methods.mjs\";\nimport \"../configuration/wallets.mjs\";\nimport \"../connectors/chains/index.mjs\";\nimport \"../connectors/chains/arbitrum.mjs\";\nimport \"../connectors/chains/arbitrumSepolia.mjs\";\nimport \"../connectors/chains/avalanche.mjs\";\nimport \"../connectors/chains/avalancheFuji.mjs\";\nimport \"../connectors/chains/base.mjs\";\nimport \"../connectors/chains/baseSepolia.mjs\";\nimport \"../connectors/chains/berachainArtio.mjs\";\nimport \"../connectors/chains/celo.mjs\";\nimport \"../connectors/chains/celoAlfajores.mjs\";\nimport \"../connectors/chains/filecoin.mjs\";\nimport \"../connectors/chains/filecoinCalibration.mjs\";\nimport \"../connectors/chains/garnetHolesky.mjs\";\nimport \"../connectors/chains/holesky.mjs\";\nimport \"../connectors/chains/linea.mjs\";\nimport \"../connectors/chains/lineaTestnet.mjs\";\nimport \"../connectors/chains/lukso.mjs\";\nimport \"../connectors/chains/mainnet.mjs\";\nimport \"../connectors/chains/optimism.mjs\";\nimport \"../connectors/chains/optimismSepolia.mjs\";\nimport \"../connectors/chains/polygon.mjs\";\nimport \"../connectors/chains/polygonAmoy.mjs\";\nimport \"../connectors/chains/redstone.mjs\";\nimport \"../connectors/chains/sepolia.mjs\";\nimport \"../connectors/chains/zora.mjs\";\nimport \"../connectors/chains/zoraSepolia.mjs\";\nimport \"../connectors/chains/zoraTestnet.mjs\";\nimport \"../connectors/chains/utils.mjs\";\nimport \"../lib/solana/index.mjs\";\nimport \"../theme.mjs\";\nimport \"tinycolor2\";\nimport \"../lib/cybr53.mjs\";\nimport \"ofetch\";\nimport \"./index.mjs\";\nimport \"../utils/index.mjs\";\nimport \"../connectors/get-legacy-injected-providers.mjs\";\nimport \"../connectors/is-wallet-installed.mjs\";\nimport \"../utils/eth/getPublicClient.mjs\";\nimport \"viem\";\nimport \"../auth-flows/oauth/getIsHeadlessOAuthFlowInProgress.mjs\";\nimport \"../storage.mjs\";\nconst l = l => {\n  e(\"login\", l);\n  let h = i(),\n    j = r(),\n    {\n      ready: u,\n      user: g\n    } = m(),\n    {\n      initLoginWithHeadlessOAuth: f,\n      loginWithHeadlessOAuth: d,\n      oAuthState: w,\n      setOAuthState: A,\n      isHeadlessOAuthLoading: y\n    } = c(),\n    b = o(async o => {\n      try {\n        if (h.enabled && \"success\" !== h.status) throw new n(h.error, null, s.CAPTCHA_FAILURE);\n        return await f(o.provider, h.token, o.disableSignup);\n      } catch (o) {\n        throw A({\n          status: \"error\",\n          error: o\n        }), o;\n      }\n    }, [f, h]),\n    x = o(async () => {\n      let o = a();\n      try {\n        if (g) return console.warn(\"Cannot login with OAuth when already logged in\"), g;\n        if (!o.inProgress) throw Error(\"Cannot login with OAuth because no OAuth flow is in progress\");\n        if (o.popupFlow) return;\n      } catch (o) {\n        throw A({\n          status: \"error\",\n          error: o\n        }), o;\n      }\n      try {\n        return await d(o);\n      } catch (o) {\n        throw A({\n          status: \"error\",\n          error: o\n        }), o;\n      } finally {\n        p();\n      }\n    }, [d]);\n  return t(() => {\n    let o = a();\n    u && j && o.inProgress && !o.withPrivyUi && !o.popupFlow && x().catch(() => {});\n  }, [u, j]), {\n    initOAuth: b,\n    loading: y,\n    state: w\n  };\n};\nexport { l as useLoginWithOAuth };","map":{"version":3,"names":["useCallback","o","useEffect","t","useIsServerConfigLoaded","r","PrivyErrorCode","s","useCaptcha","i","CaptchaError","n","usePrivyEventSubscription","e","usePrivyInternal","c","usePrivyContext","m","detectCompletingOAuthFlow","a","stripUrlOAuthParamsAndRemoveStateCode","p","l","h","j","ready","u","user","g","initLoginWithHeadlessOAuth","f","loginWithHeadlessOAuth","d","oAuthState","w","setOAuthState","A","isHeadlessOAuthLoading","y","b","enabled","status","error","CAPTCHA_FAILURE","provider","token","disableSignup","x","console","warn","inProgress","Error","popupFlow","withPrivyUi","catch","initOAuth","loading","state","useLoginWithOAuth"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/dist/esm/hooks/useLoginWithOAuth.mjs"],"sourcesContent":["import{useCallback as o,useEffect as t}from\"react\";import{useIsServerConfigLoaded as r}from\"../configuration/context.mjs\";import{PrivyErrorCode as s}from\"../errors.mjs\";import{useCaptcha as i,CaptchaError as n}from\"./captcha-context.mjs\";import{usePrivyEventSubscription as e}from\"./events-context.mjs\";import{usePrivyInternal as c}from\"./internal-context.mjs\";import{usePrivyContext as m}from\"./privy-context.mjs\";import{detectCompletingOAuthFlow as a}from\"../auth-flows/oauth/detectCompletingOAuthFlow.mjs\";import{stripUrlOAuthParamsAndRemoveStateCode as p}from\"../auth-flows/oauth/stripUrlOAuthParamsAndRemoveStateCode.mjs\";import\"react/jsx-runtime\";import\"../config.mjs\";import\"../configuration/defaultClientConfig.mjs\";import\"../constants.mjs\";import\"../configuration/login-methods.mjs\";import\"../configuration/wallets.mjs\";import\"../connectors/chains/index.mjs\";import\"../connectors/chains/arbitrum.mjs\";import\"../connectors/chains/arbitrumSepolia.mjs\";import\"../connectors/chains/avalanche.mjs\";import\"../connectors/chains/avalancheFuji.mjs\";import\"../connectors/chains/base.mjs\";import\"../connectors/chains/baseSepolia.mjs\";import\"../connectors/chains/berachainArtio.mjs\";import\"../connectors/chains/celo.mjs\";import\"../connectors/chains/celoAlfajores.mjs\";import\"../connectors/chains/filecoin.mjs\";import\"../connectors/chains/filecoinCalibration.mjs\";import\"../connectors/chains/garnetHolesky.mjs\";import\"../connectors/chains/holesky.mjs\";import\"../connectors/chains/linea.mjs\";import\"../connectors/chains/lineaTestnet.mjs\";import\"../connectors/chains/lukso.mjs\";import\"../connectors/chains/mainnet.mjs\";import\"../connectors/chains/optimism.mjs\";import\"../connectors/chains/optimismSepolia.mjs\";import\"../connectors/chains/polygon.mjs\";import\"../connectors/chains/polygonAmoy.mjs\";import\"../connectors/chains/redstone.mjs\";import\"../connectors/chains/sepolia.mjs\";import\"../connectors/chains/zora.mjs\";import\"../connectors/chains/zoraSepolia.mjs\";import\"../connectors/chains/zoraTestnet.mjs\";import\"../connectors/chains/utils.mjs\";import\"../lib/solana/index.mjs\";import\"../theme.mjs\";import\"tinycolor2\";import\"../lib/cybr53.mjs\";import\"ofetch\";import\"./index.mjs\";import\"../utils/index.mjs\";import\"../connectors/get-legacy-injected-providers.mjs\";import\"../connectors/is-wallet-installed.mjs\";import\"../utils/eth/getPublicClient.mjs\";import\"viem\";import\"../auth-flows/oauth/getIsHeadlessOAuthFlowInProgress.mjs\";import\"../storage.mjs\";const l=l=>{e(\"login\",l);let h=i(),j=r(),{ready:u,user:g}=m(),{initLoginWithHeadlessOAuth:f,loginWithHeadlessOAuth:d,oAuthState:w,setOAuthState:A,isHeadlessOAuthLoading:y}=c(),b=o((async o=>{try{if(h.enabled&&\"success\"!==h.status)throw new n(h.error,null,s.CAPTCHA_FAILURE);return await f(o.provider,h.token,o.disableSignup)}catch(o){throw A({status:\"error\",error:o}),o}}),[f,h]),x=o((async()=>{let o=a();try{if(g)return console.warn(\"Cannot login with OAuth when already logged in\"),g;if(!o.inProgress)throw Error(\"Cannot login with OAuth because no OAuth flow is in progress\");if(o.popupFlow)return}catch(o){throw A({status:\"error\",error:o}),o}try{return await d(o)}catch(o){throw A({status:\"error\",error:o}),o}finally{p()}}),[d]);return t((()=>{let o=a();u&&j&&o.inProgress&&!o.withPrivyUi&&!o.popupFlow&&x().catch((()=>{}))}),[u,j]),{initOAuth:b,loading:y,state:w}};export{l as useLoginWithOAuth};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}