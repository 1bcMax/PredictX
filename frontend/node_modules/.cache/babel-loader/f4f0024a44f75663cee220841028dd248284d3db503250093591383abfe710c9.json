{"ast":null,"code":"import { jsx as o } from \"react/jsx-runtime\";\nimport { useState as n, useMemo as t, useEffect as e } from \"react\";\nimport { formatUnits as r } from \"viem\";\nimport { SolanaClient as i } from \"@privy-io/js-sdk-core\";\nimport { getImportedPrivySolanaWallet as s, getPrivyPrimaryWallet as a, getSolanaSigningAndRootWallet as c, getEntropyDetailsFromAccount as m } from \"../../client/user.mjs\";\nimport { useAppConfig as l } from \"../../configuration/context.mjs\";\nimport { signSolanaTransaction as p, sendSolanaTransaction as d } from \"../../embedded-wallets/solana/transaction.mjs\";\nimport { usePrivyInternal as u } from \"../../hooks/internal-context.mjs\";\nimport { usePrivyModal as f } from \"../../hooks/modal-context.mjs\";\nimport { usePrivyContext as h } from \"../../hooks/privy-context.mjs\";\nimport { useGetSolPrice as j } from \"../../hooks/useGetSolPrice.mjs\";\nimport { getSolanaNetworkFromRpcEndpoint as g } from \"../../lib/solana/index.mjs\";\nimport { getNativeCurrencyFromLamports as y, parseSolanaTransaction as k, isVersionedTransaction as S, getDollarsFromLamport as b, createSolanaTransactionReceipt as w } from \"../../lib/solana/transaction.mjs\";\nimport { ErrorScreenView as T } from \"../ErrorScreen.mjs\";\nimport { SendSolanaTransactionScreenView as I } from \"../SendTransactionScreen/SendTransactionScreenView.mjs\";\nimport { TransactionErrorView as v } from \"../SendTransactionScreen/TransactionErrorView.mjs\";\nimport { ModalScreen as A } from \"../index.mjs\";\nimport { SolanaTransactionReceiptView as x } from \"./SolanaTransactionReceiptView.mjs\";\nimport \"viem/utils\";\nimport \"../../config.mjs\";\nimport \"../../configuration/defaultClientConfig.mjs\";\nimport \"../../constants.mjs\";\nimport \"../../configuration/login-methods.mjs\";\nimport \"../../configuration/wallets.mjs\";\nimport \"../../connectors/chains/index.mjs\";\nimport \"../../connectors/chains/arbitrum.mjs\";\nimport \"../../connectors/chains/arbitrumSepolia.mjs\";\nimport \"../../connectors/chains/avalanche.mjs\";\nimport \"../../connectors/chains/avalancheFuji.mjs\";\nimport \"../../connectors/chains/base.mjs\";\nimport \"../../connectors/chains/baseSepolia.mjs\";\nimport \"../../connectors/chains/berachainArtio.mjs\";\nimport \"../../connectors/chains/celo.mjs\";\nimport \"../../connectors/chains/celoAlfajores.mjs\";\nimport \"../../connectors/chains/filecoin.mjs\";\nimport \"../../connectors/chains/filecoinCalibration.mjs\";\nimport \"../../connectors/chains/garnetHolesky.mjs\";\nimport \"../../connectors/chains/holesky.mjs\";\nimport \"../../connectors/chains/linea.mjs\";\nimport \"../../connectors/chains/lineaTestnet.mjs\";\nimport \"../../connectors/chains/lukso.mjs\";\nimport \"../../connectors/chains/mainnet.mjs\";\nimport \"../../connectors/chains/optimism.mjs\";\nimport \"../../connectors/chains/optimismSepolia.mjs\";\nimport \"../../connectors/chains/polygon.mjs\";\nimport \"../../connectors/chains/polygonAmoy.mjs\";\nimport \"../../connectors/chains/redstone.mjs\";\nimport \"../../connectors/chains/sepolia.mjs\";\nimport \"../../connectors/chains/zora.mjs\";\nimport \"../../connectors/chains/zoraSepolia.mjs\";\nimport \"../../connectors/chains/zoraTestnet.mjs\";\nimport \"../../connectors/chains/utils.mjs\";\nimport \"../../theme.mjs\";\nimport \"tinycolor2\";\nimport \"../../lib/cybr53.mjs\";\nimport \"../../utils/buffer/readBigInt64LE.mjs\";\nimport \"../../lib/attempt.mjs\";\nimport \"../../hooks/index.mjs\";\nimport \"../../components/PrefetchedImage.mjs\";\nimport \"@heroicons/react/24/outline/ExclamationTriangleIcon\";\nimport \"@heroicons/react/24/outline/PhoneIcon\";\nimport \"styled-components\";\nimport \"../../components/Button.mjs\";\nimport \"../../components/Loader.mjs\";\nimport \"../../components/CircleBorder.mjs\";\nimport \"../../components/ModalHeader.mjs\";\nimport \"@heroicons/react/24/outline/ArrowLeftIcon\";\nimport \"@heroicons/react/24/outline/ArrowRightIcon\";\nimport \"@heroicons/react/24/outline/QuestionMarkCircleIcon\";\nimport \"@heroicons/react/24/outline/XMarkIcon\";\nimport \"../../components/layout/StackedContainer.mjs\";\nimport \"../../embedded-wallets/errors.mjs\";\nimport \"../../embedded-wallets/types.mjs\";\nimport \"../../errors.mjs\";\nimport \"ofetch\";\nimport \"../../hooks/captcha-context.mjs\";\nimport \"../../utils/index.mjs\";\nimport \"../../connectors/get-legacy-injected-providers.mjs\";\nimport \"../../connectors/is-wallet-installed.mjs\";\nimport \"../../utils/eth/getPublicClient.mjs\";\nimport \"../../lib/funding/reservoir.mjs\";\nimport \"../../svg/lock-closed.mjs\";\nimport \"@heroicons/react/24/outline\";\nimport \"../../components/ModalFooter.mjs\";\nimport \"../../svg/protected-by-privy.mjs\";\nimport \"../../components/primitives/InteractiveLabel.mjs\";\nimport \"../../components/ui/typography/LabelSm.mjs\";\nimport \"../../components/ui/layout/Row.mjs\";\nimport \"../../components/ui/typography/ErrorMessage.mjs\";\nimport \"../../components/ui/typography/Subtitle.mjs\";\nimport \"../../components/ui/typography/Title.mjs\";\nimport \"../../components/ui/typography/Value.mjs\";\nimport \"../../components/ui/animation/LoadingSkeleton.mjs\";\nimport \"../../components/ui/wallet/Address.mjs\";\nimport \"@heroicons/react/24/outline/CheckIcon\";\nimport \"@heroicons/react/24/outline/Square2StackIcon\";\nimport \"../../components/ui/wallet/WalletInfoCard.mjs\";\nimport \"../../components/ui/chips/Chip.mjs\";\nimport \"../../components/ui/layout/Column.mjs\";\nimport \"../../components/ui/typography/LabelXs.mjs\";\nimport \"../../components/ui/wallet/shared.mjs\";\nimport \"../LandingScreen/styles.mjs\";\nimport \"../SendTransactionScreen/TokenDescription.mjs\";\nimport \"../SendTransactionScreen/TransactionDetail.mjs\";\nimport \"../SendTransactionScreen/TransactionValidation.mjs\";\nimport \"../../components/Checkbox.mjs\";\nimport \"../../components/Pill.mjs\";\nimport \"../SendTransactionScreen/useTransactionDetails.mjs\";\nimport \"@heroicons/react/24/outline/ClipboardDocumentCheckIcon\";\nimport \"@heroicons/react/24/outline/ClipboardDocumentIcon\";\nimport \"@heroicons/react/24/outline/ExclamationCircleIcon\";\nimport \"@heroicons/react/24/outline/CheckCircleIcon\";\nimport \"../../components/CircleBackground.mjs\";\nimport \"../../components/Layouts.mjs\";\nimport \"../../components/ScreenHeader.mjs\";\nimport \"../../components/embedded-wallets/SolanaTransactionDetails.mjs\";\nimport \"@heroicons/react/24/outline/ChevronDownIcon\";\nimport \"../../components/embedded-wallets/PriceDisplay.mjs\";\nimport \"../../lib/ethers.mjs\";\nimport \"../../components/embedded-wallets/WalletLink.mjs\";\nconst C = () => {\n  let {\n      data: C,\n      onUserCloseViaDialogOrKeybindRef: O,\n      setModalData: E,\n      navigate: L\n    } = f(),\n    {\n      client: D,\n      closePrivyModal: P,\n      walletProxy: W\n    } = u(),\n    B = l(),\n    {\n      user: M,\n      getAccessToken: V\n    } = h(),\n    [F, R] = n(C?.sendSolanaTransaction?.transactionRequest),\n    [U, H] = n(),\n    [N, $] = n(),\n    [q, z] = n(0),\n    [_, G] = n({\n      value: 0n,\n      isLoading: !1\n    }),\n    [X, K] = n(!1),\n    [Q, J] = n(),\n    [Y, Z] = n(),\n    oo = C?.sendSolanaTransaction?.connection,\n    no = C?.sendSolanaTransaction?.transactingWallet,\n    to = C?.sendSolanaTransaction?.signOnly ?? !1,\n    eo = U?.instructions.length ?? 1,\n    ro = no?.imported ? s(M) : a(M),\n    io = g(oo?.rpcEndpoint || \"\"),\n    so = \"fiat-currency\" === B.embeddedWallets.priceDisplay.primary,\n    {\n      solPrice: ao,\n      isSolPriceLoading: co\n    } = j({\n      enabled: so\n    }),\n    mo = t(() => {\n      let o, n;\n      if (!U) return;\n      let t = U.spender;\n      0 === q && no?.address === t && (o = y(U.fee));\n      let e = y(_.value, 3, !0),\n        i = U.instructions[q];\n      if (!i) return {\n        fee: o,\n        spender: t,\n        balance: e\n      };\n      if (\"unknown\" === i.type) return {\n        fee: o,\n        spender: t,\n        program: i.program,\n        balance: e\n      };\n      if (\"ata-creation\" === i.type) return {\n        fee: o,\n        spender: t,\n        balance: e,\n        tokenAccountOwner: i.owner,\n        tokenAccount: i.ata,\n        tokenAddress: i.mint\n      };\n      let s = i.fromAccount,\n        a = \"sol-transfer\" === i.type ? i.toAccount : i.toAccount || i.toAta,\n        c = \"spl-transfer\" === i.type ? i.token.address : void 0;\n      return null != o && \"SOL\" === i.token.symbol && (n = y(i.value + U.fee)), {\n        fee: o,\n        spender: t,\n        from: s,\n        to: a,\n        tokenAddress: c,\n        amount: `${r(i.value, i.token.decimals)} ${i.token.symbol}`.trim(),\n        total: n,\n        balance: e\n      };\n    }, [U, q, no?.address, _]),\n    lo = t(() => {\n      let o, n;\n      if (!U || !so || !ao || co) return;\n      function t(...o) {\n        return b(o.reduce((o, n) => o + n, 0n), ao ?? 0);\n      }\n      0 === q && no?.address === U.spender && (o = t(U.fee));\n      let e = t(_.value),\n        i = U.instructions[q];\n      return i && \"unknown\" !== i.type && \"ata-creation\" !== i.type ? (null != o && \"SOL\" === i.token.symbol && (n = t(i.value, U.fee)), {\n        fee: o,\n        amount: \"SOL\" === i.token.symbol ? t(i.value) : `${r(i.value, i.token.decimals)} ${i.token.symbol}`.trim(),\n        total: n,\n        balance: e\n      }) : {\n        fee: o,\n        balance: e\n      };\n    }, [U, so, ao, co, no?.address, q, _]),\n    po = t(() => {\n      if (to || !U || _.isLoading || q > 0) return !1;\n      let o = U.instructions[q];\n      if (!o) return !1;\n      let n = 0n;\n      return no?.address === U.spender && (n += U.fee), \"value\" in o && no?.address === o.fromAccount && \"SOL\" === o.token.symbol && (n += o.value), _.value < n;\n    }, [U, _, q, to]);\n  if (e(() => {\n    !async function () {\n      if (F && oo && D) try {\n        $(void 0);\n        let o = await k({\n          tx: F,\n          connection: oo,\n          client: D\n        });\n        H(o), z(0);\n      } catch (o) {\n        console.error(\"Failed to prepare transaction\", o), $(o);\n      }\n    }();\n  }, [F, oo, D]), e(() => {\n    (async function () {\n      if (!no || !oo) return;\n      G({\n        value: _.value,\n        isLoading: !0\n      });\n      let o = new i({\n        name: \"mainnet-beta\",\n        rpcUrl: oo.rpcEndpoint\n      });\n      G({\n        value: (await o.getBalance(no.address).catch(() => 0n)) ?? 0n,\n        isLoading: !1\n      });\n    })().catch(console.error);\n  }, [U, oo]), !(F && C?.sendSolanaTransaction && no && oo)) {\n    let n = Error(\"Invalid transaction request\"); /*#__PURE__*/\n    return o(T, {\n      error: n,\n      onClick: () => {\n        C?.sendSolanaTransaction?.onFailure(n), P({\n          shouldCallAuthOnSuccess: !1\n        });\n      }\n    });\n  }\n  let uo = () => {\n    if (!X) return Q ? C?.sendSolanaTransaction?.onSuccess(Q) : (C?.sendSolanaTransaction?.onFailure(Y ?? N ?? Error(\"User exited the modal before submitting the transaction\")), z(0)), P({\n      shouldCallAuthOnSuccess: !1\n    });\n  };\n  O.current = uo;\n  let fo = C.sendSolanaTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl ? /*#__PURE__*/o(\"img\", {\n      src: C.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,\n      alt: C.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText\n    }) : null,\n    ho = !!(C.funding && C.funding.supportedOptions.length > 0),\n    jo = po && ho;\n  return Q ? /*#__PURE__*/o(x, {\n    instructions: U?.instructions.reduce((o, n) => (\"ata-creation\" === n.type && o.push({\n      tokenAccountOwner: n.owner,\n      tokenAccount: n.ata\n    }), \"spl-transfer\" === n.type && o.push({\n      from: n.fromAccount,\n      to: n.toAccount || n.toAta,\n      amount: n.value,\n      token: n.token\n    }), \"sol-transfer\" === n.type && o.push({\n      from: n.fromAccount,\n      to: n.toAccount,\n      amount: n.value,\n      token: n.token\n    }), o), []) ?? [],\n    fees: 0 === q ? Q.fees : 0n,\n    onClose: uo,\n    transactionInfo: C.sendSolanaTransaction?.uiOptions.transactionInfo,\n    solPrice: ao,\n    receiptHeader: C.sendSolanaTransaction?.uiOptions.successHeader,\n    receiptDescription: C.sendSolanaTransaction?.uiOptions.successDescription,\n    rpcEndpoint: oo.rpcEndpoint,\n    signOnly: to\n  }) : Y ? /*#__PURE__*/o(v, {\n    transactionError: Y,\n    connection: oo,\n    onClose: uo,\n    network: \"solana\",\n    onRetry: async () => {\n      Z(void 0);\n      let {\n        blockhash: o\n      } = await oo.getLatestBlockhash();\n      S(F) ? F.message.recentBlockhash = o : F.recentBlockhash = o, R(F);\n    }\n  }) : /*#__PURE__*/o(I, {\n    img: fo,\n    title: C.sendSolanaTransaction?.uiOptions?.transactionInfo?.title || \"Confirm transaction\",\n    subtitle: C.sendSolanaTransaction?.uiOptions?.description || `${B.name} wants your permission to approve the following transaction.`,\n    cta: jo ? \"Add funds\" : C.sendSolanaTransaction?.uiOptions?.buttonText || \"Approve\",\n    transactionIndex: q,\n    maxIndex: eo - 1,\n    network: \"mainnet-beta\" == io ? \"Solana\" : io,\n    blockExplorerUrl: \"https://explorer.solana.com\",\n    total: so ? lo?.total : mo?.total,\n    amount: so ? lo?.amount : mo?.amount,\n    fee: so ? lo?.fee : mo?.fee,\n    balance: so ? lo?.balance : mo?.balance,\n    from: mo?.from,\n    to: mo?.to,\n    tokenAccount: mo?.tokenAccount,\n    tokenAccountOwner: mo?.tokenAccountOwner,\n    tokenAddress: mo?.tokenAddress,\n    transactingWalletAddress: no.address,\n    programAddress: mo?.program,\n    disabled: po && !ho,\n    isSubmitting: X,\n    isPreparing: !U || _.isLoading,\n    isTokenPriceLoading: so && co,\n    isMissingFunds: po,\n    submitError: Y ?? void 0,\n    parseError: N,\n    onClick: jo ? async () => {\n      if (!no) return;\n      if (!ho) throw Error(\"Funding wallet is not enabled\");\n      let o = A.FUNDING_METHOD_SELECTION_SCREEN;\n      E({\n        ...C,\n        funding: {\n          ...C.funding,\n          methodScreen: o\n        }\n      }), L(o);\n    } : async () => {\n      if (q < (U?.instructions.length ?? 1) - 1) z(q + 1);else try {\n        K(!0);\n        let o = await V();\n        if (X || !o || !no || !W || !M || !ro) return;\n        let {\n          rootWallet: n\n        } = c(M, no.address);\n        if (!n) throw Error(\"No root wallet for transacting wallet found\");\n        let {\n          entropyId: t,\n          entropyIdVerifier: e\n        } = m(n);\n        if (to) await p({\n          tx: F,\n          accessToken: o,\n          walletProxy: W,\n          entropyId: t,\n          entropyIdVerifier: e,\n          transactingWalletAddress: no.address,\n          transactingWalletIndex: no.walletIndex ?? 0\n        }), J(w(\"\", F, null));else {\n          let {\n            signature: n,\n            receipt: r\n          } = await d({\n            tx: F,\n            accessToken: o,\n            connection: oo,\n            walletProxy: W,\n            entropyId: t,\n            entropyIdVerifier: e,\n            transactingWalletAddress: no.address,\n            transactingWalletIndex: no.walletIndex ?? 0,\n            transactionOptions: C.sendSolanaTransaction?.transactionOptions\n          });\n          J(w(n, F, r));\n        }\n      } catch (o) {\n        console.warn({\n          transaction: F,\n          error: o\n        }), Z(o);\n      } finally {\n        K(!1);\n      }\n    },\n    onClose: uo,\n    onBack: q > 0 && eo > 1 ? () => z(q - 1) : void 0\n  });\n};\nexport { C as SendSolanaTransactionScreen };","map":{"version":3,"names":["jsx","o","useState","n","useMemo","t","useEffect","e","formatUnits","r","SolanaClient","i","getImportedPrivySolanaWallet","s","getPrivyPrimaryWallet","a","getSolanaSigningAndRootWallet","c","getEntropyDetailsFromAccount","m","useAppConfig","l","signSolanaTransaction","p","sendSolanaTransaction","d","usePrivyInternal","u","usePrivyModal","f","usePrivyContext","h","useGetSolPrice","j","getSolanaNetworkFromRpcEndpoint","g","getNativeCurrencyFromLamports","y","parseSolanaTransaction","k","isVersionedTransaction","S","getDollarsFromLamport","b","createSolanaTransactionReceipt","w","ErrorScreenView","T","SendSolanaTransactionScreenView","I","TransactionErrorView","v","ModalScreen","A","SolanaTransactionReceiptView","x","C","data","onUserCloseViaDialogOrKeybindRef","O","setModalData","E","navigate","L","client","D","closePrivyModal","P","walletProxy","W","B","user","M","getAccessToken","V","F","R","transactionRequest","U","H","N","$","q","z","_","G","value","isLoading","X","K","Q","J","Y","Z","oo","connection","no","transactingWallet","to","signOnly","eo","instructions","length","ro","imported","io","rpcEndpoint","so","embeddedWallets","priceDisplay","primary","solPrice","ao","isSolPriceLoading","co","enabled","mo","spender","address","fee","balance","type","program","tokenAccountOwner","owner","tokenAccount","ata","tokenAddress","mint","fromAccount","toAccount","toAta","token","symbol","from","amount","decimals","trim","total","lo","reduce","po","tx","console","error","name","rpcUrl","getBalance","catch","Error","onClick","onFailure","shouldCallAuthOnSuccess","uo","onSuccess","current","fo","uiOptions","transactionInfo","contractInfo","imgUrl","src","alt","imgAltText","ho","funding","supportedOptions","jo","push","fees","onClose","receiptHeader","successHeader","receiptDescription","successDescription","transactionError","network","onRetry","blockhash","getLatestBlockhash","message","recentBlockhash","img","title","subtitle","description","cta","buttonText","transactionIndex","maxIndex","blockExplorerUrl","transactingWalletAddress","programAddress","disabled","isSubmitting","isPreparing","isTokenPriceLoading","isMissingFunds","submitError","parseError","FUNDING_METHOD_SELECTION_SCREEN","methodScreen","rootWallet","entropyId","entropyIdVerifier","accessToken","transactingWalletIndex","walletIndex","signature","receipt","transactionOptions","warn","transaction","onBack","SendSolanaTransactionScreen"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/dist/esm/screens/SendSolanaTransactionScreen/SendSolanaTransactionScreen.mjs"],"sourcesContent":["import{jsx as o}from\"react/jsx-runtime\";import{useState as n,useMemo as t,useEffect as e}from\"react\";import{formatUnits as r}from\"viem\";import{SolanaClient as i}from\"@privy-io/js-sdk-core\";import{getImportedPrivySolanaWallet as s,getPrivyPrimaryWallet as a,getSolanaSigningAndRootWallet as c,getEntropyDetailsFromAccount as m}from\"../../client/user.mjs\";import{useAppConfig as l}from\"../../configuration/context.mjs\";import{signSolanaTransaction as p,sendSolanaTransaction as d}from\"../../embedded-wallets/solana/transaction.mjs\";import{usePrivyInternal as u}from\"../../hooks/internal-context.mjs\";import{usePrivyModal as f}from\"../../hooks/modal-context.mjs\";import{usePrivyContext as h}from\"../../hooks/privy-context.mjs\";import{useGetSolPrice as j}from\"../../hooks/useGetSolPrice.mjs\";import{getSolanaNetworkFromRpcEndpoint as g}from\"../../lib/solana/index.mjs\";import{getNativeCurrencyFromLamports as y,parseSolanaTransaction as k,isVersionedTransaction as S,getDollarsFromLamport as b,createSolanaTransactionReceipt as w}from\"../../lib/solana/transaction.mjs\";import{ErrorScreenView as T}from\"../ErrorScreen.mjs\";import{SendSolanaTransactionScreenView as I}from\"../SendTransactionScreen/SendTransactionScreenView.mjs\";import{TransactionErrorView as v}from\"../SendTransactionScreen/TransactionErrorView.mjs\";import{ModalScreen as A}from\"../index.mjs\";import{SolanaTransactionReceiptView as x}from\"./SolanaTransactionReceiptView.mjs\";import\"viem/utils\";import\"../../config.mjs\";import\"../../configuration/defaultClientConfig.mjs\";import\"../../constants.mjs\";import\"../../configuration/login-methods.mjs\";import\"../../configuration/wallets.mjs\";import\"../../connectors/chains/index.mjs\";import\"../../connectors/chains/arbitrum.mjs\";import\"../../connectors/chains/arbitrumSepolia.mjs\";import\"../../connectors/chains/avalanche.mjs\";import\"../../connectors/chains/avalancheFuji.mjs\";import\"../../connectors/chains/base.mjs\";import\"../../connectors/chains/baseSepolia.mjs\";import\"../../connectors/chains/berachainArtio.mjs\";import\"../../connectors/chains/celo.mjs\";import\"../../connectors/chains/celoAlfajores.mjs\";import\"../../connectors/chains/filecoin.mjs\";import\"../../connectors/chains/filecoinCalibration.mjs\";import\"../../connectors/chains/garnetHolesky.mjs\";import\"../../connectors/chains/holesky.mjs\";import\"../../connectors/chains/linea.mjs\";import\"../../connectors/chains/lineaTestnet.mjs\";import\"../../connectors/chains/lukso.mjs\";import\"../../connectors/chains/mainnet.mjs\";import\"../../connectors/chains/optimism.mjs\";import\"../../connectors/chains/optimismSepolia.mjs\";import\"../../connectors/chains/polygon.mjs\";import\"../../connectors/chains/polygonAmoy.mjs\";import\"../../connectors/chains/redstone.mjs\";import\"../../connectors/chains/sepolia.mjs\";import\"../../connectors/chains/zora.mjs\";import\"../../connectors/chains/zoraSepolia.mjs\";import\"../../connectors/chains/zoraTestnet.mjs\";import\"../../connectors/chains/utils.mjs\";import\"../../theme.mjs\";import\"tinycolor2\";import\"../../lib/cybr53.mjs\";import\"../../utils/buffer/readBigInt64LE.mjs\";import\"../../lib/attempt.mjs\";import\"../../hooks/index.mjs\";import\"../../components/PrefetchedImage.mjs\";import\"@heroicons/react/24/outline/ExclamationTriangleIcon\";import\"@heroicons/react/24/outline/PhoneIcon\";import\"styled-components\";import\"../../components/Button.mjs\";import\"../../components/Loader.mjs\";import\"../../components/CircleBorder.mjs\";import\"../../components/ModalHeader.mjs\";import\"@heroicons/react/24/outline/ArrowLeftIcon\";import\"@heroicons/react/24/outline/ArrowRightIcon\";import\"@heroicons/react/24/outline/QuestionMarkCircleIcon\";import\"@heroicons/react/24/outline/XMarkIcon\";import\"../../components/layout/StackedContainer.mjs\";import\"../../embedded-wallets/errors.mjs\";import\"../../embedded-wallets/types.mjs\";import\"../../errors.mjs\";import\"ofetch\";import\"../../hooks/captcha-context.mjs\";import\"../../utils/index.mjs\";import\"../../connectors/get-legacy-injected-providers.mjs\";import\"../../connectors/is-wallet-installed.mjs\";import\"../../utils/eth/getPublicClient.mjs\";import\"../../lib/funding/reservoir.mjs\";import\"../../svg/lock-closed.mjs\";import\"@heroicons/react/24/outline\";import\"../../components/ModalFooter.mjs\";import\"../../svg/protected-by-privy.mjs\";import\"../../components/primitives/InteractiveLabel.mjs\";import\"../../components/ui/typography/LabelSm.mjs\";import\"../../components/ui/layout/Row.mjs\";import\"../../components/ui/typography/ErrorMessage.mjs\";import\"../../components/ui/typography/Subtitle.mjs\";import\"../../components/ui/typography/Title.mjs\";import\"../../components/ui/typography/Value.mjs\";import\"../../components/ui/animation/LoadingSkeleton.mjs\";import\"../../components/ui/wallet/Address.mjs\";import\"@heroicons/react/24/outline/CheckIcon\";import\"@heroicons/react/24/outline/Square2StackIcon\";import\"../../components/ui/wallet/WalletInfoCard.mjs\";import\"../../components/ui/chips/Chip.mjs\";import\"../../components/ui/layout/Column.mjs\";import\"../../components/ui/typography/LabelXs.mjs\";import\"../../components/ui/wallet/shared.mjs\";import\"../LandingScreen/styles.mjs\";import\"../SendTransactionScreen/TokenDescription.mjs\";import\"../SendTransactionScreen/TransactionDetail.mjs\";import\"../SendTransactionScreen/TransactionValidation.mjs\";import\"../../components/Checkbox.mjs\";import\"../../components/Pill.mjs\";import\"../SendTransactionScreen/useTransactionDetails.mjs\";import\"@heroicons/react/24/outline/ClipboardDocumentCheckIcon\";import\"@heroicons/react/24/outline/ClipboardDocumentIcon\";import\"@heroicons/react/24/outline/ExclamationCircleIcon\";import\"@heroicons/react/24/outline/CheckCircleIcon\";import\"../../components/CircleBackground.mjs\";import\"../../components/Layouts.mjs\";import\"../../components/ScreenHeader.mjs\";import\"../../components/embedded-wallets/SolanaTransactionDetails.mjs\";import\"@heroicons/react/24/outline/ChevronDownIcon\";import\"../../components/embedded-wallets/PriceDisplay.mjs\";import\"../../lib/ethers.mjs\";import\"../../components/embedded-wallets/WalletLink.mjs\";const C=()=>{let{data:C,onUserCloseViaDialogOrKeybindRef:O,setModalData:E,navigate:L}=f(),{client:D,closePrivyModal:P,walletProxy:W}=u(),B=l(),{user:M,getAccessToken:V}=h(),[F,R]=n(C?.sendSolanaTransaction?.transactionRequest),[U,H]=n(),[N,$]=n(),[q,z]=n(0),[_,G]=n({value:0n,isLoading:!1}),[X,K]=n(!1),[Q,J]=n(),[Y,Z]=n(),oo=C?.sendSolanaTransaction?.connection,no=C?.sendSolanaTransaction?.transactingWallet,to=C?.sendSolanaTransaction?.signOnly??!1,eo=U?.instructions.length??1,ro=no?.imported?s(M):a(M),io=g(oo?.rpcEndpoint||\"\"),so=\"fiat-currency\"===B.embeddedWallets.priceDisplay.primary,{solPrice:ao,isSolPriceLoading:co}=j({enabled:so}),mo=t((()=>{let o,n;if(!U)return;let t=U.spender;0===q&&no?.address===t&&(o=y(U.fee));let e=y(_.value,3,!0),i=U.instructions[q];if(!i)return{fee:o,spender:t,balance:e};if(\"unknown\"===i.type)return{fee:o,spender:t,program:i.program,balance:e};if(\"ata-creation\"===i.type)return{fee:o,spender:t,balance:e,tokenAccountOwner:i.owner,tokenAccount:i.ata,tokenAddress:i.mint};let s=i.fromAccount,a=\"sol-transfer\"===i.type?i.toAccount:i.toAccount||i.toAta,c=\"spl-transfer\"===i.type?i.token.address:void 0;return null!=o&&\"SOL\"===i.token.symbol&&(n=y(i.value+U.fee)),{fee:o,spender:t,from:s,to:a,tokenAddress:c,amount:`${r(i.value,i.token.decimals)} ${i.token.symbol}`.trim(),total:n,balance:e}}),[U,q,no?.address,_]),lo=t((()=>{let o,n;if(!U||!so||!ao||co)return;function t(...o){return b(o.reduce(((o,n)=>o+n),0n),ao??0)}0===q&&no?.address===U.spender&&(o=t(U.fee));let e=t(_.value),i=U.instructions[q];return i&&\"unknown\"!==i.type&&\"ata-creation\"!==i.type?(null!=o&&\"SOL\"===i.token.symbol&&(n=t(i.value,U.fee)),{fee:o,amount:\"SOL\"===i.token.symbol?t(i.value):`${r(i.value,i.token.decimals)} ${i.token.symbol}`.trim(),total:n,balance:e}):{fee:o,balance:e}}),[U,so,ao,co,no?.address,q,_]),po=t((()=>{if(to||!U||_.isLoading||q>0)return!1;let o=U.instructions[q];if(!o)return!1;let n=0n;return no?.address===U.spender&&(n+=U.fee),\"value\"in o&&no?.address===o.fromAccount&&\"SOL\"===o.token.symbol&&(n+=o.value),_.value<n}),[U,_,q,to]);if(e((()=>{!async function(){if(F&&oo&&D)try{$(void 0);let o=await k({tx:F,connection:oo,client:D});H(o),z(0)}catch(o){console.error(\"Failed to prepare transaction\",o),$(o)}}()}),[F,oo,D]),e((()=>{(async function(){if(!no||!oo)return;G({value:_.value,isLoading:!0});let o=new i({name:\"mainnet-beta\",rpcUrl:oo.rpcEndpoint});G({value:await o.getBalance(no.address).catch((()=>0n))??0n,isLoading:!1})})().catch(console.error)}),[U,oo]),!(F&&C?.sendSolanaTransaction&&no&&oo)){let n=Error(\"Invalid transaction request\");/*#__PURE__*/return o(T,{error:n,onClick:()=>{C?.sendSolanaTransaction?.onFailure(n),P({shouldCallAuthOnSuccess:!1})}})}let uo=()=>{if(!X)return Q?C?.sendSolanaTransaction?.onSuccess(Q):(C?.sendSolanaTransaction?.onFailure(Y??N??Error(\"User exited the modal before submitting the transaction\")),z(0)),P({shouldCallAuthOnSuccess:!1})};O.current=uo;let fo=C.sendSolanaTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?/*#__PURE__*/o(\"img\",{src:C.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:C.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ho=!!(C.funding&&C.funding.supportedOptions.length>0),jo=po&&ho;return Q?/*#__PURE__*/o(x,{instructions:U?.instructions.reduce(((o,n)=>(\"ata-creation\"===n.type&&o.push({tokenAccountOwner:n.owner,tokenAccount:n.ata}),\"spl-transfer\"===n.type&&o.push({from:n.fromAccount,to:n.toAccount||n.toAta,amount:n.value,token:n.token}),\"sol-transfer\"===n.type&&o.push({from:n.fromAccount,to:n.toAccount,amount:n.value,token:n.token}),o)),[])??[],fees:0===q?Q.fees:0n,onClose:uo,transactionInfo:C.sendSolanaTransaction?.uiOptions.transactionInfo,solPrice:ao,receiptHeader:C.sendSolanaTransaction?.uiOptions.successHeader,receiptDescription:C.sendSolanaTransaction?.uiOptions.successDescription,rpcEndpoint:oo.rpcEndpoint,signOnly:to}):Y?/*#__PURE__*/o(v,{transactionError:Y,connection:oo,onClose:uo,network:\"solana\",onRetry:async()=>{Z(void 0);let{blockhash:o}=await oo.getLatestBlockhash();S(F)?F.message.recentBlockhash=o:F.recentBlockhash=o,R(F)}}):/*#__PURE__*/o(I,{img:fo,title:C.sendSolanaTransaction?.uiOptions?.transactionInfo?.title||\"Confirm transaction\",subtitle:C.sendSolanaTransaction?.uiOptions?.description||`${B.name} wants your permission to approve the following transaction.`,cta:jo?\"Add funds\":C.sendSolanaTransaction?.uiOptions?.buttonText||\"Approve\",transactionIndex:q,maxIndex:eo-1,network:\"mainnet-beta\"==io?\"Solana\":io,blockExplorerUrl:\"https://explorer.solana.com\",total:so?lo?.total:mo?.total,amount:so?lo?.amount:mo?.amount,fee:so?lo?.fee:mo?.fee,balance:so?lo?.balance:mo?.balance,from:mo?.from,to:mo?.to,tokenAccount:mo?.tokenAccount,tokenAccountOwner:mo?.tokenAccountOwner,tokenAddress:mo?.tokenAddress,transactingWalletAddress:no.address,programAddress:mo?.program,disabled:po&&!ho,isSubmitting:X,isPreparing:!U||_.isLoading,isTokenPriceLoading:so&&co,isMissingFunds:po,submitError:Y??void 0,parseError:N,onClick:jo?async()=>{if(!no)return;if(!ho)throw Error(\"Funding wallet is not enabled\");let o=A.FUNDING_METHOD_SELECTION_SCREEN;E({...C,funding:{...C.funding,methodScreen:o}}),L(o)}:async()=>{if(q<(U?.instructions.length??1)-1)z(q+1);else try{K(!0);let o=await V();if(X||!o||!no||!W||!M||!ro)return;let{rootWallet:n}=c(M,no.address);if(!n)throw Error(\"No root wallet for transacting wallet found\");let{entropyId:t,entropyIdVerifier:e}=m(n);if(to)await p({tx:F,accessToken:o,walletProxy:W,entropyId:t,entropyIdVerifier:e,transactingWalletAddress:no.address,transactingWalletIndex:no.walletIndex??0}),J(w(\"\",F,null));else{let{signature:n,receipt:r}=await d({tx:F,accessToken:o,connection:oo,walletProxy:W,entropyId:t,entropyIdVerifier:e,transactingWalletAddress:no.address,transactingWalletIndex:no.walletIndex??0,transactionOptions:C.sendSolanaTransaction?.transactionOptions});J(w(n,F,r))}}catch(o){console.warn({transaction:F,error:o}),Z(o)}finally{K(!1)}},onClose:uo,onBack:q>0&&eo>1?()=>z(q-1):void 0})};export{C as SendSolanaTransactionScreen};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}