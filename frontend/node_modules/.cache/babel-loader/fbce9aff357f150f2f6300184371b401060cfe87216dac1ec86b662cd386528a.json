{"ast":null,"code":"import { PasskeyLinkInit as e, PasskeyAuthenticateInit as t, PasskeyRegisterInit as s, PasskeyAuthenticate as a, PasskeyRegister as n, PasskeyLink as i } from \"@privy-io/public-api\";\nimport { maybeCreateWalletOnLogin as r } from \"./maybeCreateWalletOnLogin.mjs\";\nimport \"../../utils/getUserEmbeddedEthereumWallet.mjs\";\nimport \"../../utils/getAllUserEmbeddedEthereumWallets.mjs\";\nimport \"../../utils/getUserEmbeddedSolanaWallet.mjs\";\nimport \"../../utils/getAllUserEmbeddedSolanaWallets.mjs\";\nimport \"../../utils/shouldCreateEmbeddedEthWallet.mjs\";\nimport \"../../utils/shouldCreateEmbeddedSolWallet.mjs\";\nclass o {\n  async generateRegistrationOptions(t) {\n    return await this._privyInternal.fetch(e, {\n      body: {\n        relying_party: t\n      }\n    });\n  }\n  async generateAuthenticationOptions(e) {\n    return await this._privyInternal.fetch(t, {\n      body: {\n        relying_party: e\n      }\n    });\n  }\n  async generateSignupOptions(e) {\n    return await this._privyInternal.fetch(s, {\n      body: {\n        relying_party: e\n      }\n    });\n  }\n  async loginWithPasskey(e, t, s, n) {\n    let i = await this._privyInternal.fetch(a, {\n      body: {\n        relying_party: s,\n        challenge: t,\n        authenticator_response: this._transformAuthenticationResponseToSnakeCase(e)\n      }\n    });\n    await this._privyInternal.session.updateWithTokensResponse(i);\n    let o = await r(this._embedded, i, n?.embedded);\n    return this._privyInternal.callbacks?.setUser?.(o.user), o;\n  }\n  async signupWithPasskey(e, t, s) {\n    let a = await this._privyInternal.fetch(n, {\n      body: {\n        relying_party: t,\n        authenticator_response: this._transformRegistrationResponseToSnakeCase(e)\n      }\n    });\n    await this._privyInternal.session.updateWithTokensResponse(a);\n    let i = await r(this._embedded, a, s?.embedded);\n    return this._privyInternal.callbacks?.setUser?.(i.user), i;\n  }\n  async linkWithPasskey(e, t) {\n    return await this._privyInternal.fetch(i, {\n      body: {\n        relying_party: t,\n        authenticator_response: this._transformRegistrationResponseToSnakeCase(e)\n      }\n    }), (await this._privyInternal.refreshSession()).user;\n  }\n  _transformRegistrationResponseToSnakeCase(e) {\n    return {\n      type: e.type,\n      id: e.id,\n      raw_id: e.rawId,\n      response: {\n        client_data_json: e.response.clientDataJSON,\n        attestation_object: e.response.attestationObject,\n        authenticator_data: e.response.authenticatorData || void 0,\n        transports: e.response.transports || void 0,\n        public_key: e.response.publicKey || void 0,\n        public_key_algorithm: e.response.publicKeyAlgorithm || void 0\n      },\n      authenticator_attachment: e.authenticatorAttachment || void 0,\n      client_extension_results: {\n        app_id: e.clientExtensionResults.appid || void 0,\n        cred_props: e.clientExtensionResults.credProps || void 0,\n        hmac_create_secret: e.clientExtensionResults.hmacCreateSecret || void 0\n      }\n    };\n  }\n  _transformAuthenticationResponseToSnakeCase(e) {\n    return {\n      type: e.type,\n      id: e.id,\n      raw_id: e.rawId,\n      response: {\n        signature: e.response.signature,\n        client_data_json: e.response.clientDataJSON,\n        authenticator_data: e.response.authenticatorData,\n        user_handle: e.response.userHandle || void 0\n      },\n      authenticator_attachment: e.authenticatorAttachment || void 0,\n      client_extension_results: {\n        app_id: e.clientExtensionResults.appid || void 0,\n        cred_props: e.clientExtensionResults.credProps || void 0,\n        hmac_create_secret: e.clientExtensionResults.hmacCreateSecret || void 0\n      }\n    };\n  }\n  constructor(e, t) {\n    this._privyInternal = e, this._embedded = t;\n  }\n}\nexport { o as default };","map":{"version":3,"names":["PasskeyLinkInit","e","PasskeyAuthenticateInit","t","PasskeyRegisterInit","s","PasskeyAuthenticate","a","PasskeyRegister","n","PasskeyLink","i","maybeCreateWalletOnLogin","r","o","generateRegistrationOptions","_privyInternal","fetch","body","relying_party","generateAuthenticationOptions","generateSignupOptions","loginWithPasskey","challenge","authenticator_response","_transformAuthenticationResponseToSnakeCase","session","updateWithTokensResponse","_embedded","embedded","callbacks","setUser","user","signupWithPasskey","_transformRegistrationResponseToSnakeCase","linkWithPasskey","refreshSession","type","id","raw_id","rawId","response","client_data_json","clientDataJSON","attestation_object","attestationObject","authenticator_data","authenticatorData","transports","public_key","publicKey","public_key_algorithm","publicKeyAlgorithm","authenticator_attachment","authenticatorAttachment","client_extension_results","app_id","clientExtensionResults","appid","cred_props","credProps","hmac_create_secret","hmacCreateSecret","signature","user_handle","userHandle","constructor","default"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/node_modules/@privy-io/js-sdk-core/dist/esm/client/auth/PasskeyApi.mjs"],"sourcesContent":["import{PasskeyLinkInit as e,PasskeyAuthenticateInit as t,PasskeyRegisterInit as s,PasskeyAuthenticate as a,PasskeyRegister as n,PasskeyLink as i}from\"@privy-io/public-api\";import{maybeCreateWalletOnLogin as r}from\"./maybeCreateWalletOnLogin.mjs\";import\"../../utils/getUserEmbeddedEthereumWallet.mjs\";import\"../../utils/getAllUserEmbeddedEthereumWallets.mjs\";import\"../../utils/getUserEmbeddedSolanaWallet.mjs\";import\"../../utils/getAllUserEmbeddedSolanaWallets.mjs\";import\"../../utils/shouldCreateEmbeddedEthWallet.mjs\";import\"../../utils/shouldCreateEmbeddedSolWallet.mjs\";class o{async generateRegistrationOptions(t){return await this._privyInternal.fetch(e,{body:{relying_party:t}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(t,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(s,{body:{relying_party:e}})}async loginWithPasskey(e,t,s,n){let i=await this._privyInternal.fetch(a,{body:{relying_party:s,challenge:t,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let o=await r(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async signupWithPasskey(e,t,s){let a=await this._privyInternal.fetch(n,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(a);let i=await r(this._embedded,a,s?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}async linkWithPasskey(e,t){return await this._privyInternal.fetch(i,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}}),(await this._privyInternal.refreshSession()).user}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,t){this._privyInternal=e,this._embedded=t}}export{o as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}