{"ast":null,"code":"import { jsx as e, jsxs as o, Fragment as t } from \"react/jsx-runtime\";\nimport { useState as n, useEffect as r } from \"react\";\nimport { isMobile as i } from \"react-device-detect\";\nimport { styled as s } from \"styled-components\";\nimport { SiweFlow as c } from \"../auth-flows/siwe.mjs\";\nimport { SiwsFlow as a } from \"../auth-flows/siws.mjs\";\nimport { PrimaryButton as l } from \"../components/Button.mjs\";\nimport { FixedGappedContainer as m } from \"../components/Layouts.mjs\";\nimport { ConnectionLoader as p } from \"../components/Loader.mjs\";\nimport { ModalFooter as d } from \"../components/ModalFooter.mjs\";\nimport { ModalHeader as h } from \"../components/ModalHeader.mjs\";\nimport { ConnectorErrors as u, PrivyProviderRpcError as j, WalletTimeoutError as f, UserRejectedConnectionError as g } from \"../connectors/errors.mjs\";\nimport { isCoinbaseWalletInstalled as E } from \"../connectors/is-wallet-installed.mjs\";\nimport { userAlreadyHasConnectedCoinbaseWallet as w } from \"../connectors/userAlreadyHasConnectedCoinbaseWallet.mjs\";\nimport { WalletConnectV2WalletConnector as y } from \"../connectors/walletconnect-v2.mjs\";\nimport { DEFAULT_SUCCESS_SCREEN_DURATION_MS as C } from \"../constants.mjs\";\nimport { PrivyErrorCode as b, PrivyUserLimitReachedError as v } from \"../errors.mjs\";\nimport _ from \"../hook-utils/useInterval.mjs\";\nimport { useCaptcha as T } from \"../hooks/captcha-context.mjs\";\nimport { usePrivyInternal as R } from \"../hooks/internal-context.mjs\";\nimport { usePrivyModal as S } from \"../hooks/modal-context.mjs\";\nimport { usePrivyContext as k } from \"../hooks/privy-context.mjs\";\nimport { WALLET_UI_MAP as N } from \"../lib/external-wallets/displayHelpers.mjs\";\nimport { useHasTabbedAway as A } from \"../lib/useHasTabbedAway.mjs\";\nimport { shouldProceedtoEmbeddedWalletCreationFlow as x } from \"../lib/user/shouldProceedtoEmbeddedWalletCreationFlow.mjs\";\nimport { BrowserExtensionWallet as O } from \"../svg/browser-extension-wallet-icon.mjs\";\nimport { sleep as I } from \"../utils/index.mjs\";\nimport { ModalScreen as W } from \"./index.mjs\";\nimport \"../effect.mjs\";\nimport \"../lib/siwe.mjs\";\nimport \"../lib/siws.mjs\";\nimport \"../configuration/context.mjs\";\nimport \"../config.mjs\";\nimport \"../configuration/defaultClientConfig.mjs\";\nimport \"../configuration/login-methods.mjs\";\nimport \"../configuration/wallets.mjs\";\nimport \"../connectors/chains/index.mjs\";\nimport \"../connectors/chains/arbitrum.mjs\";\nimport \"../connectors/chains/arbitrumSepolia.mjs\";\nimport \"../connectors/chains/avalanche.mjs\";\nimport \"../connectors/chains/avalancheFuji.mjs\";\nimport \"../connectors/chains/base.mjs\";\nimport \"../connectors/chains/baseSepolia.mjs\";\nimport \"../connectors/chains/berachainArtio.mjs\";\nimport \"../connectors/chains/celo.mjs\";\nimport \"../connectors/chains/celoAlfajores.mjs\";\nimport \"../connectors/chains/filecoin.mjs\";\nimport \"../connectors/chains/filecoinCalibration.mjs\";\nimport \"../connectors/chains/garnetHolesky.mjs\";\nimport \"../connectors/chains/holesky.mjs\";\nimport \"../connectors/chains/linea.mjs\";\nimport \"../connectors/chains/lineaTestnet.mjs\";\nimport \"../connectors/chains/lukso.mjs\";\nimport \"../connectors/chains/mainnet.mjs\";\nimport \"../connectors/chains/optimism.mjs\";\nimport \"../connectors/chains/optimismSepolia.mjs\";\nimport \"../connectors/chains/polygon.mjs\";\nimport \"../connectors/chains/polygonAmoy.mjs\";\nimport \"../connectors/chains/redstone.mjs\";\nimport \"../connectors/chains/sepolia.mjs\";\nimport \"../connectors/chains/zora.mjs\";\nimport \"../connectors/chains/zoraSepolia.mjs\";\nimport \"../connectors/chains/zoraTestnet.mjs\";\nimport \"../connectors/chains/utils.mjs\";\nimport \"../lib/solana/index.mjs\";\nimport \"../theme.mjs\";\nimport \"tinycolor2\";\nimport \"../lib/cybr53.mjs\";\nimport \"../svg/protected-by-privy.mjs\";\nimport \"@heroicons/react/24/outline/ArrowLeftIcon\";\nimport \"@heroicons/react/24/outline/ArrowRightIcon\";\nimport \"@heroicons/react/24/outline/QuestionMarkCircleIcon\";\nimport \"@heroicons/react/24/outline/XMarkIcon\";\nimport \"@privy-io/js-sdk-core\";\nimport \"../connectors/get-legacy-injected-providers.mjs\";\nimport \"viem\";\nimport \"@walletconnect/ethereum-provider\";\nimport \"../svg/metamask.mjs\";\nimport \"../svg/wallet-connect.mjs\";\nimport \"../connectors/ethereum/index.mjs\";\nimport \"viem/utils\";\nimport \"../storage.mjs\";\nimport \"../connectors/areWalletArraysEqual.mjs\";\nimport \"../connectors/isBaseConnectedEthereumWallet.mjs\";\nimport \"../connectors/base.mjs\";\nimport \"eventemitter3\";\nimport \"../connectors/getRpcTimeout.mjs\";\nimport \"../connectors/privyProxyProvider.mjs\";\nimport \"../connectors/walletconnect-registry.mjs\";\nimport \"ofetch\";\nimport \"../hooks/index.mjs\";\nimport \"../components/PrefetchedImage.mjs\";\nimport \"../svg/backpack.mjs\";\nimport \"../svg/brave-browser-icon.mjs\";\nimport \"../svg/bybit.mjs\";\nimport \"../svg/coinbase-wallet.mjs\";\nimport \"../svg/cryptocom.mjs\";\nimport \"../svg/okx-wallet.mjs\";\nimport \"../svg/phantom.mjs\";\nimport \"../svg/rabby.mjs\";\nimport \"../svg/rainbow.mjs\";\nimport \"../svg/safe.mjs\";\nimport \"../svg/solflare.mjs\";\nimport \"../svg/uniswap.mjs\";\nimport \"../svg/universal-profile.mjs\";\nimport \"../svg/zerion.mjs\";\nimport \"../lib/user/shouldCreateEmbeddedEthWallet.mjs\";\nimport \"../client/user.mjs\";\nimport \"../lib/user/shouldCreateEmbeddedSolWallet.mjs\";\nimport \"../utils/eth/getPublicClient.mjs\";\nconst L = e => e?.privyErrorCode === b.LINKED_TO_ANOTHER_USER ? u.ERROR_USER_EXISTS : e instanceof j && !e.details.default ? e.details : e instanceof f ? u.ERROR_TIMED_OUT : e instanceof g ? u.ERROR_USER_REJECTED_CONNECTION : e?.privyErrorCode === b.CANNOT_LINK_MORE_OF_TYPE ? u.ERROR_USER_LIMIT_REACHED : u.ERROR_WALLET_CONNECTION,\n  U = () => {\n    let s,\n      [p, j] = n(!1),\n      [f, g] = n(!1),\n      [U, D] = n(void 0),\n      {\n        authenticated: H,\n        logout: B\n      } = k(),\n      {\n        app: P,\n        navigate: z,\n        navigateBack: X,\n        lastScreen: q,\n        currentScreen: J,\n        setModalData: K,\n        data: $\n      } = S(),\n      {\n        getAuthFlow: Q,\n        walletConnectionStatus: Y,\n        closePrivyModal: G,\n        initLoginWithWallet: V,\n        loginWithWallet: Z,\n        updateWallets: ee,\n        createAnalyticsEvent: oe\n      } = R(),\n      {\n        walletConnectors: te\n      } = k(),\n      [ne, re] = n(0),\n      {\n        user: ie\n      } = k(),\n      [se] = n(ie?.linkedAccounts.length || 0),\n      [ce, ae] = n(\"\"),\n      [le, me] = n(\"\"),\n      [pe, de] = n(!1),\n      {\n        hasTabbedAway: he\n      } = A(),\n      {\n        enabled: ue,\n        token: je\n      } = T(),\n      fe = i && \"wallet_connect_v2\" === Y?.connector?.connectorType || i && \"coinbase_wallet\" === Y?.connector?.connectorType || i && \"injected\" === Y?.connector?.connectorType && \"phantom\" === Y?.connector?.walletClientType,\n      ge = \"connected\" === Y?.status,\n      Ee = \"switching_to_supported_chain\" === Y?.status;\n    r(() => {\n      let e = Q(),\n        o = e instanceof c || e instanceof a ? e : void 0;\n      ge && !o && (!ue || je || H ? V(Y.connectedWallet, je, $?.login?.disableSignup).then(() => {\n        de(!0);\n      }) : (K({\n        captchaModalData: {\n          callback: e => V(Y.connectedWallet, e, $?.login?.disableSignup).then(() => {\n            de(!0);\n          }),\n          userIntentRequired: !1,\n          onSuccessNavigateTo: W.AWAITING_CONNECTION,\n          onErrorNavigateTo: W.ERROR_SCREEN\n        }\n      }), z(W.CAPTCHA_SCREEN, !1))), o && fe && ge && !o.preparedMessage ? o.buildMessage() : o && !fe && ge && (f || (async () => {\n        g(!0), D(void 0);\n        try {\n          \"wallet_connect_v2\" === Y?.connector?.connectorType && \"metamask\" === Y?.connector?.walletClientType && (await I(2500)), await ye();\n        } catch (e) {\n          console.warn(\"Auto-prompted signature failed\", e);\n        } finally {\n          g(!1);\n        }\n      })());\n    }, [ne, ge, pe]), r(() => {\n      if (ie && p) {\n        let e = C - 500;\n        if (P?.legal.requireUsersAcceptTerms && !ie.hasAcceptedTerms) {\n          let o = setTimeout(() => {\n            z(W.AFFIRMATIVE_CONSENT_SCREEN);\n          }, e);\n          return () => clearTimeout(o);\n        }\n        if (x(ie, P.embeddedWallets)) {\n          let o = setTimeout(() => {\n            K({\n              createWallet: {\n                onSuccess: () => {},\n                onFailure: e => {\n                  console.error(e), oe({\n                    eventName: \"embedded_wallet_creation_failure_logout\",\n                    payload: {\n                      error: e,\n                      screen: \"ConnectionStatusScreen\"\n                    }\n                  }), B();\n                },\n                callAuthOnSuccessOnClose: !0\n              }\n            }), z(W.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN);\n          }, e);\n          return () => clearTimeout(o);\n        }\n        ee();\n        let o = setTimeout(() => G({\n          shouldCallAuthOnSuccess: !0,\n          isSuccess: !0\n        }), C);\n        return () => clearTimeout(o);\n      }\n    }, [ie, p]);\n    let we = e => {\n      if (e?.privyErrorCode !== b.ALLOWLIST_REJECTED) {\n        if (e?.privyErrorCode === b.USER_LIMIT_REACHED) return console.error(new v(e).toString()), void z(W.USER_LIMIT_REACHED_SCREEN);\n        if (e?.privyErrorCode !== b.USER_DOES_NOT_EXIST) return e?.privyErrorCode === b.ACCOUNT_TRANSFER_REQUIRED && e.data?.data?.nonce ? (K({\n          accountTransfer: {\n            nonce: e.data?.data?.nonce,\n            account: Q()?.meta.address,\n            displayName: e.data?.data?.account?.displayName,\n            externalWalletMetadata: {\n              walletClientType: Q()?.meta.walletClientType,\n              chainId: Q()?.meta.chainId,\n              connectorType: Q()?.meta.connectorType\n            },\n            linkMethod: \"siwe\",\n            embeddedWalletAddress: e.data?.data?.otherUser?.embeddedWalletAddress\n          }\n        }), void z(W.LINK_CONFLICT_SCREEN)) : void D(L(e));\n        z(W.ACCOUNT_NOT_FOUND_SCREEN);\n      } else z(W.ALLOWLIST_REJECTION_SCREEN);\n    };\n    async function ye() {\n      try {\n        await Z(), j(!0);\n      } catch (e) {\n        we(e);\n      } finally {\n        g(!1);\n      }\n    }\n    r(() => {\n      Y?.connectError && we(Y?.connectError);\n    }, [Y]), _(() => {\n      let e = \"wallet_connect_v2\" === Ce && Y?.connector instanceof y ? Y.connector.redirectUri : void 0;\n      e && ae(e);\n      let o = \"wallet_connect_v2\" === Ce && Y?.connector instanceof y ? Y.connector.fallbackUniversalRedirectUri : void 0;\n      o && me(o);\n    }, Y?.connector instanceof y && !ce ? 500 : null);\n    let Ce = Y?.connector?.connectorType || \"injected\",\n      be = Y?.connector?.walletClientType || \"unknown\",\n      ve = N[be]?.displayName || Y?.connector?.walletBranding.name || \"Browser Extension\",\n      _e = N[be]?.logo || Y?.connector?.walletBranding.icon || (o => /*#__PURE__*/e(O, {\n        ...o\n      })),\n      Te = \"Browser Extension\" === ve ? ve.toLowerCase() : ve;\n    s = p ? `Successfully connected with ${Te}` : U ? U.message : Ee ? \"Switching networks\" : ge ? f && fe ? \"Signing\" : \"Sign to verify\" : `Waiting for ${Te}`;\n    let Re = \"Don’t see your wallet? Check your other browser windows.\";\n    p ? Re = se === (ie?.linkedAccounts.length || 0) ? \"Wallet was already linked.\" : \"You’re good to go!\" : ne >= 2 && U ? Re = \"Unable to connect wallet\" : U ? Re = U.detail : Ee ? Re = \"Switch your wallet to the requested network.\" : ge && fe ? Re = \"Sign the message in your wallet to verify it belongs to you.\" : \"metamask\" === be && i ? Re = \"Click continue to open and connect MetaMask.\" : \"metamask\" === be ? Re = \"For the best experience, connect only one wallet at a time.\" : \"wallet_connect\" === Ce ? Re = \"Open your mobile wallet app to continue\" : \"coinbase_wallet\" !== Ce || E() || (Re = w(ie) ? \"Continue with the Coinbase app. Not the right wallet? Reset your connection below.\" : \"Open the Coinbase app on your phone to continue.\");\n    let Se = te?.walletConnectors?.find(e => \"coinbase_wallet\" === e.walletClientType),\n      ke = \"coinbase_wallet\" === be && (w(ie) || U === u.ERROR_USER_EXISTS); /*#__PURE__*/\n    return o(t, {\n      children: [/*#__PURE__*/e(h, {\n        backFn: q && J !== q ? X : void 0\n      }), /*#__PURE__*/o(M, {\n        children: [/*#__PURE__*/e(F, {\n          walletLogo: _e,\n          success: p,\n          fail: !!U\n        }), /*#__PURE__*/o(m, {\n          children: [/*#__PURE__*/e(\"h3\", {\n            children: s\n          }), /*#__PURE__*/e(\"p\", {\n            children: Re\n          }), ge || !ce || he ? null : /*#__PURE__*/o(\"p\", {\n            children: [\"Still here?\", \" \", /*#__PURE__*/e(\"a\", {\n              href: ce,\n              target: \"_blank\",\n              style: {\n                textDecoration: \"underline\"\n              },\n              children: \"Try connecting again\"\n            }), le && /*#__PURE__*/o(t, {\n              children: [\" \", \"or\", \" \", /*#__PURE__*/e(\"a\", {\n                href: le,\n                target: \"_blank\",\n                style: {\n                  textDecoration: \"underline\"\n                },\n                children: \"use this different link\"\n              })]\n            })]\n          })]\n        }), ke ? /*#__PURE__*/e(l, {\n          onClick: () => Se && Se?.disconnect(),\n          disabled: p,\n          children: \"Use a different wallet\"\n        }) : U == u.ERROR_USER_EXISTS && J !== q ? /*#__PURE__*/e(l, {\n          onClick: X,\n          children: \"Use a different wallet\"\n        }) : ge && !p && fe ? /*#__PURE__*/e(l, {\n          onClick: () => {\n            g(!0), ye();\n          },\n          disabled: f,\n          children: f ? \"Signing\" : \"Sign with your wallet\"\n        }) : !p && U?.retryable && ne < 2 ? /*#__PURE__*/e(l, {\n          onClick: () => {\n            re(ne + 1), D(void 0), ge ? (g(!0), ye()) : Y?.connectRetry();\n          },\n          disabled: !p && (!U?.retryable || ne >= 2),\n          children: \"Retry\"\n        }) : p || U ? null : /*#__PURE__*/e(l, {\n          onClick: () => {},\n          disabled: !0,\n          children: \"Connecting\"\n        })]\n      }), /*#__PURE__*/e(d, {})]\n    });\n  };\nlet M = /*#__PURE__*/s.div.withConfig({\n    displayName: \"ConnectContainer\",\n    componentId: \"sc-17f85963-0\"\n  })([\"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;\"]),\n  D = /*#__PURE__*/s.div.withConfig({\n    displayName: \"StackedContainer\",\n    componentId: \"sc-17f85963-1\"\n  })([\"display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}\"]);\nconst F = n => {\n  let r = n.walletLogo; /*#__PURE__*/\n  return e(t, {\n    children: /*#__PURE__*/e(D, {\n      children: /*#__PURE__*/o(\"div\", {\n        children: [/*#__PURE__*/e(p, {\n          success: n.success,\n          fail: n.fail\n        }), \"string\" == typeof r ? /*#__PURE__*/e(\"span\", {\n          style: {\n            background: `url('${r}')`,\n            height: \"38px\",\n            width: \"38px\",\n            borderRadius: \"6px\",\n            margin: \"auto\",\n            backgroundSize: \"cover\"\n          }\n        }) : /*#__PURE__*/e(r, {\n          style: {\n            width: \"38px\",\n            height: \"38px\"\n          }\n        })]\n      })\n    })\n  });\n};\nexport { U as ConnectionStatusScreen, F as WalletLoading, L as getErrorDetails };","map":{"version":3,"names":["jsx","e","jsxs","o","Fragment","t","useState","n","useEffect","r","isMobile","i","styled","s","SiweFlow","c","SiwsFlow","a","PrimaryButton","l","FixedGappedContainer","m","ConnectionLoader","p","ModalFooter","d","ModalHeader","h","ConnectorErrors","u","PrivyProviderRpcError","j","WalletTimeoutError","f","UserRejectedConnectionError","g","isCoinbaseWalletInstalled","E","userAlreadyHasConnectedCoinbaseWallet","w","WalletConnectV2WalletConnector","y","DEFAULT_SUCCESS_SCREEN_DURATION_MS","C","PrivyErrorCode","b","PrivyUserLimitReachedError","v","_","useCaptcha","T","usePrivyInternal","R","usePrivyModal","S","usePrivyContext","k","WALLET_UI_MAP","N","useHasTabbedAway","A","shouldProceedtoEmbeddedWalletCreationFlow","x","BrowserExtensionWallet","O","sleep","I","ModalScreen","W","L","privyErrorCode","LINKED_TO_ANOTHER_USER","ERROR_USER_EXISTS","details","default","ERROR_TIMED_OUT","ERROR_USER_REJECTED_CONNECTION","CANNOT_LINK_MORE_OF_TYPE","ERROR_USER_LIMIT_REACHED","ERROR_WALLET_CONNECTION","U","D","authenticated","H","logout","B","app","P","navigate","z","navigateBack","X","lastScreen","q","currentScreen","J","setModalData","K","data","$","getAuthFlow","Q","walletConnectionStatus","Y","closePrivyModal","G","initLoginWithWallet","V","loginWithWallet","Z","updateWallets","ee","createAnalyticsEvent","oe","walletConnectors","te","ne","re","user","ie","se","linkedAccounts","length","ce","ae","le","me","pe","de","hasTabbedAway","he","enabled","ue","token","je","fe","connector","connectorType","walletClientType","ge","status","Ee","connectedWallet","login","disableSignup","then","captchaModalData","callback","userIntentRequired","onSuccessNavigateTo","AWAITING_CONNECTION","onErrorNavigateTo","ERROR_SCREEN","CAPTCHA_SCREEN","preparedMessage","buildMessage","ye","console","warn","legal","requireUsersAcceptTerms","hasAcceptedTerms","setTimeout","AFFIRMATIVE_CONSENT_SCREEN","clearTimeout","embeddedWallets","createWallet","onSuccess","onFailure","error","eventName","payload","screen","callAuthOnSuccessOnClose","EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN","shouldCallAuthOnSuccess","isSuccess","we","ALLOWLIST_REJECTED","USER_LIMIT_REACHED","toString","USER_LIMIT_REACHED_SCREEN","USER_DOES_NOT_EXIST","ACCOUNT_TRANSFER_REQUIRED","nonce","accountTransfer","account","meta","address","displayName","externalWalletMetadata","chainId","linkMethod","embeddedWalletAddress","otherUser","LINK_CONFLICT_SCREEN","ACCOUNT_NOT_FOUND_SCREEN","ALLOWLIST_REJECTION_SCREEN","connectError","Ce","redirectUri","fallbackUniversalRedirectUri","be","ve","walletBranding","name","_e","logo","icon","Te","toLowerCase","message","Re","detail","Se","find","ke","children","backFn","M","F","walletLogo","success","fail","href","target","style","textDecoration","onClick","disconnect","disabled","retryable","connectRetry","div","withConfig","componentId","background","height","width","borderRadius","margin","backgroundSize","ConnectionStatusScreen","WalletLoading","getErrorDetails"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/dist/esm/screens/ConnectionStatusScreen.mjs"],"sourcesContent":["import{jsx as e,jsxs as o,Fragment as t}from\"react/jsx-runtime\";import{useState as n,useEffect as r}from\"react\";import{isMobile as i}from\"react-device-detect\";import{styled as s}from\"styled-components\";import{SiweFlow as c}from\"../auth-flows/siwe.mjs\";import{SiwsFlow as a}from\"../auth-flows/siws.mjs\";import{PrimaryButton as l}from\"../components/Button.mjs\";import{FixedGappedContainer as m}from\"../components/Layouts.mjs\";import{ConnectionLoader as p}from\"../components/Loader.mjs\";import{ModalFooter as d}from\"../components/ModalFooter.mjs\";import{ModalHeader as h}from\"../components/ModalHeader.mjs\";import{ConnectorErrors as u,PrivyProviderRpcError as j,WalletTimeoutError as f,UserRejectedConnectionError as g}from\"../connectors/errors.mjs\";import{isCoinbaseWalletInstalled as E}from\"../connectors/is-wallet-installed.mjs\";import{userAlreadyHasConnectedCoinbaseWallet as w}from\"../connectors/userAlreadyHasConnectedCoinbaseWallet.mjs\";import{WalletConnectV2WalletConnector as y}from\"../connectors/walletconnect-v2.mjs\";import{DEFAULT_SUCCESS_SCREEN_DURATION_MS as C}from\"../constants.mjs\";import{PrivyErrorCode as b,PrivyUserLimitReachedError as v}from\"../errors.mjs\";import _ from\"../hook-utils/useInterval.mjs\";import{useCaptcha as T}from\"../hooks/captcha-context.mjs\";import{usePrivyInternal as R}from\"../hooks/internal-context.mjs\";import{usePrivyModal as S}from\"../hooks/modal-context.mjs\";import{usePrivyContext as k}from\"../hooks/privy-context.mjs\";import{WALLET_UI_MAP as N}from\"../lib/external-wallets/displayHelpers.mjs\";import{useHasTabbedAway as A}from\"../lib/useHasTabbedAway.mjs\";import{shouldProceedtoEmbeddedWalletCreationFlow as x}from\"../lib/user/shouldProceedtoEmbeddedWalletCreationFlow.mjs\";import{BrowserExtensionWallet as O}from\"../svg/browser-extension-wallet-icon.mjs\";import{sleep as I}from\"../utils/index.mjs\";import{ModalScreen as W}from\"./index.mjs\";import\"../effect.mjs\";import\"../lib/siwe.mjs\";import\"../lib/siws.mjs\";import\"../configuration/context.mjs\";import\"../config.mjs\";import\"../configuration/defaultClientConfig.mjs\";import\"../configuration/login-methods.mjs\";import\"../configuration/wallets.mjs\";import\"../connectors/chains/index.mjs\";import\"../connectors/chains/arbitrum.mjs\";import\"../connectors/chains/arbitrumSepolia.mjs\";import\"../connectors/chains/avalanche.mjs\";import\"../connectors/chains/avalancheFuji.mjs\";import\"../connectors/chains/base.mjs\";import\"../connectors/chains/baseSepolia.mjs\";import\"../connectors/chains/berachainArtio.mjs\";import\"../connectors/chains/celo.mjs\";import\"../connectors/chains/celoAlfajores.mjs\";import\"../connectors/chains/filecoin.mjs\";import\"../connectors/chains/filecoinCalibration.mjs\";import\"../connectors/chains/garnetHolesky.mjs\";import\"../connectors/chains/holesky.mjs\";import\"../connectors/chains/linea.mjs\";import\"../connectors/chains/lineaTestnet.mjs\";import\"../connectors/chains/lukso.mjs\";import\"../connectors/chains/mainnet.mjs\";import\"../connectors/chains/optimism.mjs\";import\"../connectors/chains/optimismSepolia.mjs\";import\"../connectors/chains/polygon.mjs\";import\"../connectors/chains/polygonAmoy.mjs\";import\"../connectors/chains/redstone.mjs\";import\"../connectors/chains/sepolia.mjs\";import\"../connectors/chains/zora.mjs\";import\"../connectors/chains/zoraSepolia.mjs\";import\"../connectors/chains/zoraTestnet.mjs\";import\"../connectors/chains/utils.mjs\";import\"../lib/solana/index.mjs\";import\"../theme.mjs\";import\"tinycolor2\";import\"../lib/cybr53.mjs\";import\"../svg/protected-by-privy.mjs\";import\"@heroicons/react/24/outline/ArrowLeftIcon\";import\"@heroicons/react/24/outline/ArrowRightIcon\";import\"@heroicons/react/24/outline/QuestionMarkCircleIcon\";import\"@heroicons/react/24/outline/XMarkIcon\";import\"@privy-io/js-sdk-core\";import\"../connectors/get-legacy-injected-providers.mjs\";import\"viem\";import\"@walletconnect/ethereum-provider\";import\"../svg/metamask.mjs\";import\"../svg/wallet-connect.mjs\";import\"../connectors/ethereum/index.mjs\";import\"viem/utils\";import\"../storage.mjs\";import\"../connectors/areWalletArraysEqual.mjs\";import\"../connectors/isBaseConnectedEthereumWallet.mjs\";import\"../connectors/base.mjs\";import\"eventemitter3\";import\"../connectors/getRpcTimeout.mjs\";import\"../connectors/privyProxyProvider.mjs\";import\"../connectors/walletconnect-registry.mjs\";import\"ofetch\";import\"../hooks/index.mjs\";import\"../components/PrefetchedImage.mjs\";import\"../svg/backpack.mjs\";import\"../svg/brave-browser-icon.mjs\";import\"../svg/bybit.mjs\";import\"../svg/coinbase-wallet.mjs\";import\"../svg/cryptocom.mjs\";import\"../svg/okx-wallet.mjs\";import\"../svg/phantom.mjs\";import\"../svg/rabby.mjs\";import\"../svg/rainbow.mjs\";import\"../svg/safe.mjs\";import\"../svg/solflare.mjs\";import\"../svg/uniswap.mjs\";import\"../svg/universal-profile.mjs\";import\"../svg/zerion.mjs\";import\"../lib/user/shouldCreateEmbeddedEthWallet.mjs\";import\"../client/user.mjs\";import\"../lib/user/shouldCreateEmbeddedSolWallet.mjs\";import\"../utils/eth/getPublicClient.mjs\";const L=e=>e?.privyErrorCode===b.LINKED_TO_ANOTHER_USER?u.ERROR_USER_EXISTS:e instanceof j&&!e.details.default?e.details:e instanceof f?u.ERROR_TIMED_OUT:e instanceof g?u.ERROR_USER_REJECTED_CONNECTION:e?.privyErrorCode===b.CANNOT_LINK_MORE_OF_TYPE?u.ERROR_USER_LIMIT_REACHED:u.ERROR_WALLET_CONNECTION,U=()=>{let s,[p,j]=n(!1),[f,g]=n(!1),[U,D]=n(void 0),{authenticated:H,logout:B}=k(),{app:P,navigate:z,navigateBack:X,lastScreen:q,currentScreen:J,setModalData:K,data:$}=S(),{getAuthFlow:Q,walletConnectionStatus:Y,closePrivyModal:G,initLoginWithWallet:V,loginWithWallet:Z,updateWallets:ee,createAnalyticsEvent:oe}=R(),{walletConnectors:te}=k(),[ne,re]=n(0),{user:ie}=k(),[se]=n(ie?.linkedAccounts.length||0),[ce,ae]=n(\"\"),[le,me]=n(\"\"),[pe,de]=n(!1),{hasTabbedAway:he}=A(),{enabled:ue,token:je}=T(),fe=i&&\"wallet_connect_v2\"===Y?.connector?.connectorType||i&&\"coinbase_wallet\"===Y?.connector?.connectorType||i&&\"injected\"===Y?.connector?.connectorType&&\"phantom\"===Y?.connector?.walletClientType,ge=\"connected\"===Y?.status,Ee=\"switching_to_supported_chain\"===Y?.status;r((()=>{let e=Q(),o=e instanceof c||e instanceof a?e:void 0;ge&&!o&&(!ue||je||H?V(Y.connectedWallet,je,$?.login?.disableSignup).then((()=>{de(!0)})):(K({captchaModalData:{callback:e=>V(Y.connectedWallet,e,$?.login?.disableSignup).then((()=>{de(!0)})),userIntentRequired:!1,onSuccessNavigateTo:W.AWAITING_CONNECTION,onErrorNavigateTo:W.ERROR_SCREEN}}),z(W.CAPTCHA_SCREEN,!1))),o&&fe&&ge&&!o.preparedMessage?o.buildMessage():o&&!fe&&ge&&(f||(async()=>{g(!0),D(void 0);try{\"wallet_connect_v2\"===Y?.connector?.connectorType&&\"metamask\"===Y?.connector?.walletClientType&&await I(2500),await ye()}catch(e){console.warn(\"Auto-prompted signature failed\",e)}finally{g(!1)}})())}),[ne,ge,pe]),r((()=>{if(ie&&p){let e=C-500;if(P?.legal.requireUsersAcceptTerms&&!ie.hasAcceptedTerms){let o=setTimeout((()=>{z(W.AFFIRMATIVE_CONSENT_SCREEN)}),e);return()=>clearTimeout(o)}if(x(ie,P.embeddedWallets)){let o=setTimeout((()=>{K({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),oe({eventName:\"embedded_wallet_creation_failure_logout\",payload:{error:e,screen:\"ConnectionStatusScreen\"}}),B()},callAuthOnSuccessOnClose:!0}}),z(W.EMBEDDED_WALLET_ON_ACCOUNT_CREATE_SCREEN)}),e);return()=>clearTimeout(o)}ee();let o=setTimeout((()=>G({shouldCallAuthOnSuccess:!0,isSuccess:!0})),C);return()=>clearTimeout(o)}}),[ie,p]);let we=e=>{if(e?.privyErrorCode!==b.ALLOWLIST_REJECTED){if(e?.privyErrorCode===b.USER_LIMIT_REACHED)return console.error(new v(e).toString()),void z(W.USER_LIMIT_REACHED_SCREEN);if(e?.privyErrorCode!==b.USER_DOES_NOT_EXIST)return e?.privyErrorCode===b.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce?(K({accountTransfer:{nonce:e.data?.data?.nonce,account:Q()?.meta.address,displayName:e.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:Q()?.meta.walletClientType,chainId:Q()?.meta.chainId,connectorType:Q()?.meta.connectorType},linkMethod:\"siwe\",embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress}}),void z(W.LINK_CONFLICT_SCREEN)):void D(L(e));z(W.ACCOUNT_NOT_FOUND_SCREEN)}else z(W.ALLOWLIST_REJECTION_SCREEN)};async function ye(){try{await Z(),j(!0)}catch(e){we(e)}finally{g(!1)}}r((()=>{Y?.connectError&&we(Y?.connectError)}),[Y]),_((()=>{let e=\"wallet_connect_v2\"===Ce&&Y?.connector instanceof y?Y.connector.redirectUri:void 0;e&&ae(e);let o=\"wallet_connect_v2\"===Ce&&Y?.connector instanceof y?Y.connector.fallbackUniversalRedirectUri:void 0;o&&me(o)}),Y?.connector instanceof y&&!ce?500:null);let Ce=Y?.connector?.connectorType||\"injected\",be=Y?.connector?.walletClientType||\"unknown\",ve=N[be]?.displayName||Y?.connector?.walletBranding.name||\"Browser Extension\",_e=N[be]?.logo||Y?.connector?.walletBranding.icon||(o=>/*#__PURE__*/e(O,{...o})),Te=\"Browser Extension\"===ve?ve.toLowerCase():ve;s=p?`Successfully connected with ${Te}`:U?U.message:Ee?\"Switching networks\":ge?f&&fe?\"Signing\":\"Sign to verify\":`Waiting for ${Te}`;let Re=\"Don’t see your wallet? Check your other browser windows.\";p?Re=se===(ie?.linkedAccounts.length||0)?\"Wallet was already linked.\":\"You’re good to go!\":ne>=2&&U?Re=\"Unable to connect wallet\":U?Re=U.detail:Ee?Re=\"Switch your wallet to the requested network.\":ge&&fe?Re=\"Sign the message in your wallet to verify it belongs to you.\":\"metamask\"===be&&i?Re=\"Click continue to open and connect MetaMask.\":\"metamask\"===be?Re=\"For the best experience, connect only one wallet at a time.\":\"wallet_connect\"===Ce?Re=\"Open your mobile wallet app to continue\":\"coinbase_wallet\"!==Ce||E()||(Re=w(ie)?\"Continue with the Coinbase app. Not the right wallet? Reset your connection below.\":\"Open the Coinbase app on your phone to continue.\");let Se=te?.walletConnectors?.find((e=>\"coinbase_wallet\"===e.walletClientType)),ke=\"coinbase_wallet\"===be&&(w(ie)||U===u.ERROR_USER_EXISTS);/*#__PURE__*/return o(t,{children:[/*#__PURE__*/e(h,{backFn:q&&J!==q?X:void 0}),/*#__PURE__*/o(M,{children:[/*#__PURE__*/e(F,{walletLogo:_e,success:p,fail:!!U}),/*#__PURE__*/o(m,{children:[/*#__PURE__*/e(\"h3\",{children:s}),/*#__PURE__*/e(\"p\",{children:Re}),ge||!ce||he?null:/*#__PURE__*/o(\"p\",{children:[\"Still here?\",\" \",/*#__PURE__*/e(\"a\",{href:ce,target:\"_blank\",style:{textDecoration:\"underline\"},children:\"Try connecting again\"}),le&&/*#__PURE__*/o(t,{children:[\" \",\"or\",\" \",/*#__PURE__*/e(\"a\",{href:le,target:\"_blank\",style:{textDecoration:\"underline\"},children:\"use this different link\"})]})]})]}),ke?/*#__PURE__*/e(l,{onClick:()=>Se&&Se?.disconnect(),disabled:p,children:\"Use a different wallet\"}):U==u.ERROR_USER_EXISTS&&J!==q?/*#__PURE__*/e(l,{onClick:X,children:\"Use a different wallet\"}):ge&&!p&&fe?/*#__PURE__*/e(l,{onClick:()=>{g(!0),ye()},disabled:f,children:f?\"Signing\":\"Sign with your wallet\"}):!p&&U?.retryable&&ne<2?/*#__PURE__*/e(l,{onClick:()=>{re(ne+1),D(void 0),ge?(g(!0),ye()):Y?.connectRetry()},disabled:!p&&(!U?.retryable||ne>=2),children:\"Retry\"}):p||U?null:/*#__PURE__*/e(l,{onClick:()=>{},disabled:!0,children:\"Connecting\"})]}),/*#__PURE__*/e(d,{})]})};let M=/*#__PURE__*/s.div.withConfig({displayName:\"ConnectContainer\",componentId:\"sc-17f85963-0\"})([\"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;\"]),D=/*#__PURE__*/s.div.withConfig({displayName:\"StackedContainer\",componentId:\"sc-17f85963-1\"})([\"display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}\"]);const F=n=>{let r=n.walletLogo;/*#__PURE__*/return e(t,{children:/*#__PURE__*/e(D,{children:/*#__PURE__*/o(\"div\",{children:[/*#__PURE__*/e(p,{success:n.success,fail:n.fail}),\"string\"==typeof r?\n/*#__PURE__*/e(\"span\",{style:{background:`url('${r}')`,height:\"38px\",width:\"38px\",borderRadius:\"6px\",margin:\"auto\",backgroundSize:\"cover\"}}):/*#__PURE__*/e(r,{style:{width:\"38px\",height:\"38px\"}})]})})})};export{U as ConnectionStatusScreen,F as WalletLoading,L as getErrorDetails};\n"],"mappings":"AAAA,SAAOA,GAAG,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,EAACC,QAAQ,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,QAAK,OAAO;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,wBAAwB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,wBAAwB;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,eAAe,IAAIC,CAAC,EAACC,qBAAqB,IAAIC,CAAC,EAACC,kBAAkB,IAAIC,CAAC,EAACC,2BAA2B,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,yBAAyB,IAAIC,CAAC,QAAK,uCAAuC;AAAC,SAAOC,qCAAqC,IAAIC,CAAC,QAAK,yDAAyD;AAAC,SAAOC,8BAA8B,IAAIC,CAAC,QAAK,oCAAoC;AAAC,SAAOC,kCAAkC,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,cAAc,IAAIC,CAAC,EAACC,0BAA0B,IAAIC,CAAC,QAAK,eAAe;AAAC,OAAOC,CAAC,MAAK,+BAA+B;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,4CAA4C;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,6BAA6B;AAAC,SAAOC,yCAAyC,IAAIC,CAAC,QAAK,2DAA2D;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,aAAa;AAAC,OAAM,eAAe;AAAC,OAAM,iBAAiB;AAAC,OAAM,iBAAiB;AAAC,OAAM,8BAA8B;AAAC,OAAM,eAAe;AAAC,OAAM,0CAA0C;AAAC,OAAM,oCAAoC;AAAC,OAAM,8BAA8B;AAAC,OAAM,gCAAgC;AAAC,OAAM,mCAAmC;AAAC,OAAM,0CAA0C;AAAC,OAAM,oCAAoC;AAAC,OAAM,wCAAwC;AAAC,OAAM,+BAA+B;AAAC,OAAM,sCAAsC;AAAC,OAAM,yCAAyC;AAAC,OAAM,+BAA+B;AAAC,OAAM,wCAAwC;AAAC,OAAM,mCAAmC;AAAC,OAAM,8CAA8C;AAAC,OAAM,wCAAwC;AAAC,OAAM,kCAAkC;AAAC,OAAM,gCAAgC;AAAC,OAAM,uCAAuC;AAAC,OAAM,gCAAgC;AAAC,OAAM,kCAAkC;AAAC,OAAM,mCAAmC;AAAC,OAAM,0CAA0C;AAAC,OAAM,kCAAkC;AAAC,OAAM,sCAAsC;AAAC,OAAM,mCAAmC;AAAC,OAAM,kCAAkC;AAAC,OAAM,+BAA+B;AAAC,OAAM,sCAAsC;AAAC,OAAM,sCAAsC;AAAC,OAAM,gCAAgC;AAAC,OAAM,yBAAyB;AAAC,OAAM,cAAc;AAAC,OAAM,YAAY;AAAC,OAAM,mBAAmB;AAAC,OAAM,+BAA+B;AAAC,OAAM,2CAA2C;AAAC,OAAM,4CAA4C;AAAC,OAAM,oDAAoD;AAAC,OAAM,uCAAuC;AAAC,OAAM,uBAAuB;AAAC,OAAM,iDAAiD;AAAC,OAAM,MAAM;AAAC,OAAM,kCAAkC;AAAC,OAAM,qBAAqB;AAAC,OAAM,2BAA2B;AAAC,OAAM,kCAAkC;AAAC,OAAM,YAAY;AAAC,OAAM,gBAAgB;AAAC,OAAM,wCAAwC;AAAC,OAAM,iDAAiD;AAAC,OAAM,wBAAwB;AAAC,OAAM,eAAe;AAAC,OAAM,iCAAiC;AAAC,OAAM,sCAAsC;AAAC,OAAM,0CAA0C;AAAC,OAAM,QAAQ;AAAC,OAAM,oBAAoB;AAAC,OAAM,mCAAmC;AAAC,OAAM,qBAAqB;AAAC,OAAM,+BAA+B;AAAC,OAAM,kBAAkB;AAAC,OAAM,4BAA4B;AAAC,OAAM,sBAAsB;AAAC,OAAM,uBAAuB;AAAC,OAAM,oBAAoB;AAAC,OAAM,kBAAkB;AAAC,OAAM,oBAAoB;AAAC,OAAM,iBAAiB;AAAC,OAAM,qBAAqB;AAAC,OAAM,oBAAoB;AAAC,OAAM,8BAA8B;AAAC,OAAM,mBAAmB;AAAC,OAAM,+CAA+C;AAAC,OAAM,oBAAoB;AAAC,OAAM,+CAA+C;AAAC,OAAM,kCAAkC;AAAC,MAAMC,CAAC,GAACpE,CAAC,IAAEA,CAAC,EAAEqE,cAAc,KAAGzB,CAAC,CAAC0B,sBAAsB,GAAC1C,CAAC,CAAC2C,iBAAiB,GAACvE,CAAC,YAAY8B,CAAC,IAAE,CAAC9B,CAAC,CAACwE,OAAO,CAACC,OAAO,GAACzE,CAAC,CAACwE,OAAO,GAACxE,CAAC,YAAYgC,CAAC,GAACJ,CAAC,CAAC8C,eAAe,GAAC1E,CAAC,YAAYkC,CAAC,GAACN,CAAC,CAAC+C,8BAA8B,GAAC3E,CAAC,EAAEqE,cAAc,KAAGzB,CAAC,CAACgC,wBAAwB,GAAChD,CAAC,CAACiD,wBAAwB,GAACjD,CAAC,CAACkD,uBAAuB;EAACC,CAAC,GAACA,CAAA,KAAI;IAAC,IAAInE,CAAC;MAAC,CAACU,CAAC,EAACQ,CAAC,CAAC,GAACxB,CAAC,CAAC,CAAC,CAAC,CAAC;MAAC,CAAC0B,CAAC,EAACE,CAAC,CAAC,GAAC5B,CAAC,CAAC,CAAC,CAAC,CAAC;MAAC,CAACyE,CAAC,EAACC,CAAC,CAAC,GAAC1E,CAAC,CAAC,KAAK,CAAC,CAAC;MAAC;QAAC2E,aAAa,EAACC,CAAC;QAACC,MAAM,EAACC;MAAC,CAAC,GAAC7B,CAAC,CAAC,CAAC;MAAC;QAAC8B,GAAG,EAACC,CAAC;QAACC,QAAQ,EAACC,CAAC;QAACC,YAAY,EAACC,CAAC;QAACC,UAAU,EAACC,CAAC;QAACC,aAAa,EAACC,CAAC;QAACC,YAAY,EAACC,CAAC;QAACC,IAAI,EAACC;MAAC,CAAC,GAAC7C,CAAC,CAAC,CAAC;MAAC;QAAC8C,WAAW,EAACC,CAAC;QAACC,sBAAsB,EAACC,CAAC;QAACC,eAAe,EAACC,CAAC;QAACC,mBAAmB,EAACC,CAAC;QAACC,eAAe,EAACC,CAAC;QAACC,aAAa,EAACC,EAAE;QAACC,oBAAoB,EAACC;MAAE,CAAC,GAAC7D,CAAC,CAAC,CAAC;MAAC;QAAC8D,gBAAgB,EAACC;MAAE,CAAC,GAAC3D,CAAC,CAAC,CAAC;MAAC,CAAC4D,EAAE,EAACC,EAAE,CAAC,GAAC9G,CAAC,CAAC,CAAC,CAAC;MAAC;QAAC+G,IAAI,EAACC;MAAE,CAAC,GAAC/D,CAAC,CAAC,CAAC;MAAC,CAACgE,EAAE,CAAC,GAACjH,CAAC,CAACgH,EAAE,EAAEE,cAAc,CAACC,MAAM,IAAE,CAAC,CAAC;MAAC,CAACC,EAAE,EAACC,EAAE,CAAC,GAACrH,CAAC,CAAC,EAAE,CAAC;MAAC,CAACsH,EAAE,EAACC,EAAE,CAAC,GAACvH,CAAC,CAAC,EAAE,CAAC;MAAC,CAACwH,EAAE,EAACC,EAAE,CAAC,GAACzH,CAAC,CAAC,CAAC,CAAC,CAAC;MAAC;QAAC0H,aAAa,EAACC;MAAE,CAAC,GAACtE,CAAC,CAAC,CAAC;MAAC;QAACuE,OAAO,EAACC,EAAE;QAACC,KAAK,EAACC;MAAE,CAAC,GAACpF,CAAC,CAAC,CAAC;MAACqF,EAAE,GAAC5H,CAAC,IAAE,mBAAmB,KAAG4F,CAAC,EAAEiC,SAAS,EAAEC,aAAa,IAAE9H,CAAC,IAAE,iBAAiB,KAAG4F,CAAC,EAAEiC,SAAS,EAAEC,aAAa,IAAE9H,CAAC,IAAE,UAAU,KAAG4F,CAAC,EAAEiC,SAAS,EAAEC,aAAa,IAAE,SAAS,KAAGlC,CAAC,EAAEiC,SAAS,EAAEE,gBAAgB;MAACC,EAAE,GAAC,WAAW,KAAGpC,CAAC,EAAEqC,MAAM;MAACC,EAAE,GAAC,8BAA8B,KAAGtC,CAAC,EAAEqC,MAAM;IAACnI,CAAC,CAAE,MAAI;MAAC,IAAIR,CAAC,GAACoG,CAAC,CAAC,CAAC;QAAClG,CAAC,GAACF,CAAC,YAAYc,CAAC,IAAEd,CAAC,YAAYgB,CAAC,GAAChB,CAAC,GAAC,KAAK,CAAC;MAAC0I,EAAE,IAAE,CAACxI,CAAC,KAAG,CAACiI,EAAE,IAAEE,EAAE,IAAEnD,CAAC,GAACwB,CAAC,CAACJ,CAAC,CAACuC,eAAe,EAACR,EAAE,EAACnC,CAAC,EAAE4C,KAAK,EAAEC,aAAa,CAAC,CAACC,IAAI,CAAE,MAAI;QAACjB,EAAE,CAAC,CAAC,CAAC,CAAC;MAAA,CAAE,CAAC,IAAE/B,CAAC,CAAC;QAACiD,gBAAgB,EAAC;UAACC,QAAQ,EAAClJ,CAAC,IAAE0G,CAAC,CAACJ,CAAC,CAACuC,eAAe,EAAC7I,CAAC,EAACkG,CAAC,EAAE4C,KAAK,EAAEC,aAAa,CAAC,CAACC,IAAI,CAAE,MAAI;YAACjB,EAAE,CAAC,CAAC,CAAC,CAAC;UAAA,CAAE,CAAC;UAACoB,kBAAkB,EAAC,CAAC,CAAC;UAACC,mBAAmB,EAACjF,CAAC,CAACkF,mBAAmB;UAACC,iBAAiB,EAACnF,CAAC,CAACoF;QAAY;MAAC,CAAC,CAAC,EAAC/D,CAAC,CAACrB,CAAC,CAACqF,cAAc,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAACtJ,CAAC,IAAEoI,EAAE,IAAEI,EAAE,IAAE,CAACxI,CAAC,CAACuJ,eAAe,GAACvJ,CAAC,CAACwJ,YAAY,CAAC,CAAC,GAACxJ,CAAC,IAAE,CAACoI,EAAE,IAAEI,EAAE,KAAG1G,CAAC,IAAE,CAAC,YAAS;QAACE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC8C,CAAC,CAAC,KAAK,CAAC,CAAC;QAAC,IAAG;UAAC,mBAAmB,KAAGsB,CAAC,EAAEiC,SAAS,EAAEC,aAAa,IAAE,UAAU,KAAGlC,CAAC,EAAEiC,SAAS,EAAEE,gBAAgB,KAAE,MAAMxE,CAAC,CAAC,IAAI,CAAC,GAAC,MAAM0F,EAAE,CAAC,CAAC;QAAA,CAAC,QAAM3J,CAAC,EAAC;UAAC4J,OAAO,CAACC,IAAI,CAAC,gCAAgC,EAAC7J,CAAC,CAAC;QAAA,CAAC,SAAO;UAACkC,CAAC,CAAC,CAAC,CAAC,CAAC;QAAA;MAAC,CAAC,EAAE,CAAC,CAAC;IAAA,CAAC,EAAE,CAACiF,EAAE,EAACuB,EAAE,EAACZ,EAAE,CAAC,CAAC,EAACtH,CAAC,CAAE,MAAI;MAAC,IAAG8G,EAAE,IAAEhG,CAAC,EAAC;QAAC,IAAItB,CAAC,GAAC0C,CAAC,GAAC,GAAG;QAAC,IAAG4C,CAAC,EAAEwE,KAAK,CAACC,uBAAuB,IAAE,CAACzC,EAAE,CAAC0C,gBAAgB,EAAC;UAAC,IAAI9J,CAAC,GAAC+J,UAAU,CAAE,MAAI;YAACzE,CAAC,CAACrB,CAAC,CAAC+F,0BAA0B,CAAC;UAAA,CAAC,EAAElK,CAAC,CAAC;UAAC,OAAM,MAAImK,YAAY,CAACjK,CAAC,CAAC;QAAA;QAAC,IAAG2D,CAAC,CAACyD,EAAE,EAAChC,CAAC,CAAC8E,eAAe,CAAC,EAAC;UAAC,IAAIlK,CAAC,GAAC+J,UAAU,CAAE,MAAI;YAACjE,CAAC,CAAC;cAACqE,YAAY,EAAC;gBAACC,SAAS,EAACA,CAAA,KAAI,CAAC,CAAC;gBAACC,SAAS,EAACvK,CAAC,IAAE;kBAAC4J,OAAO,CAACY,KAAK,CAACxK,CAAC,CAAC,EAACgH,EAAE,CAAC;oBAACyD,SAAS,EAAC,yCAAyC;oBAACC,OAAO,EAAC;sBAACF,KAAK,EAACxK,CAAC;sBAAC2K,MAAM,EAAC;oBAAwB;kBAAC,CAAC,CAAC,EAACvF,CAAC,CAAC,CAAC;gBAAA,CAAC;gBAACwF,wBAAwB,EAAC,CAAC;cAAC;YAAC,CAAC,CAAC,EAACpF,CAAC,CAACrB,CAAC,CAAC0G,wCAAwC,CAAC;UAAA,CAAC,EAAE7K,CAAC,CAAC;UAAC,OAAM,MAAImK,YAAY,CAACjK,CAAC,CAAC;QAAA;QAAC4G,EAAE,CAAC,CAAC;QAAC,IAAI5G,CAAC,GAAC+J,UAAU,CAAE,MAAIzD,CAAC,CAAC;UAACsE,uBAAuB,EAAC,CAAC,CAAC;UAACC,SAAS,EAAC,CAAC;QAAC,CAAC,CAAC,EAAErI,CAAC,CAAC;QAAC,OAAM,MAAIyH,YAAY,CAACjK,CAAC,CAAC;MAAA;IAAC,CAAC,EAAE,CAACoH,EAAE,EAAChG,CAAC,CAAC,CAAC;IAAC,IAAI0J,EAAE,GAAChL,CAAC,IAAE;MAAC,IAAGA,CAAC,EAAEqE,cAAc,KAAGzB,CAAC,CAACqI,kBAAkB,EAAC;QAAC,IAAGjL,CAAC,EAAEqE,cAAc,KAAGzB,CAAC,CAACsI,kBAAkB,EAAC,OAAOtB,OAAO,CAACY,KAAK,CAAC,IAAI1H,CAAC,CAAC9C,CAAC,CAAC,CAACmL,QAAQ,CAAC,CAAC,CAAC,EAAC,KAAK3F,CAAC,CAACrB,CAAC,CAACiH,yBAAyB,CAAC;QAAC,IAAGpL,CAAC,EAAEqE,cAAc,KAAGzB,CAAC,CAACyI,mBAAmB,EAAC,OAAOrL,CAAC,EAAEqE,cAAc,KAAGzB,CAAC,CAAC0I,yBAAyB,IAAEtL,CAAC,CAACiG,IAAI,EAAEA,IAAI,EAAEsF,KAAK,IAAEvF,CAAC,CAAC;UAACwF,eAAe,EAAC;YAACD,KAAK,EAACvL,CAAC,CAACiG,IAAI,EAAEA,IAAI,EAAEsF,KAAK;YAACE,OAAO,EAACrF,CAAC,CAAC,CAAC,EAAEsF,IAAI,CAACC,OAAO;YAACC,WAAW,EAAC5L,CAAC,CAACiG,IAAI,EAAEA,IAAI,EAAEwF,OAAO,EAAEG,WAAW;YAACC,sBAAsB,EAAC;cAACpD,gBAAgB,EAACrC,CAAC,CAAC,CAAC,EAAEsF,IAAI,CAACjD,gBAAgB;cAACqD,OAAO,EAAC1F,CAAC,CAAC,CAAC,EAAEsF,IAAI,CAACI,OAAO;cAACtD,aAAa,EAACpC,CAAC,CAAC,CAAC,EAAEsF,IAAI,CAAClD;YAAa,CAAC;YAACuD,UAAU,EAAC,MAAM;YAACC,qBAAqB,EAAChM,CAAC,CAACiG,IAAI,EAAEA,IAAI,EAAEgG,SAAS,EAAED;UAAqB;QAAC,CAAC,CAAC,EAAC,KAAKxG,CAAC,CAACrB,CAAC,CAAC+H,oBAAoB,CAAC,IAAE,KAAKlH,CAAC,CAACZ,CAAC,CAACpE,CAAC,CAAC,CAAC;QAACwF,CAAC,CAACrB,CAAC,CAACgI,wBAAwB,CAAC;MAAA,CAAC,MAAK3G,CAAC,CAACrB,CAAC,CAACiI,0BAA0B,CAAC;IAAA,CAAC;IAAC,eAAezC,EAAEA,CAAA,EAAE;MAAC,IAAG;QAAC,MAAM/C,CAAC,CAAC,CAAC,EAAC9E,CAAC,CAAC,CAAC,CAAC,CAAC;MAAA,CAAC,QAAM9B,CAAC,EAAC;QAACgL,EAAE,CAAChL,CAAC,CAAC;MAAA,CAAC,SAAO;QAACkC,CAAC,CAAC,CAAC,CAAC,CAAC;MAAA;IAAC;IAAC1B,CAAC,CAAE,MAAI;MAAC8F,CAAC,EAAE+F,YAAY,IAAErB,EAAE,CAAC1E,CAAC,EAAE+F,YAAY,CAAC;IAAA,CAAC,EAAE,CAAC/F,CAAC,CAAC,CAAC,EAACvD,CAAC,CAAE,MAAI;MAAC,IAAI/C,CAAC,GAAC,mBAAmB,KAAGsM,EAAE,IAAEhG,CAAC,EAAEiC,SAAS,YAAY/F,CAAC,GAAC8D,CAAC,CAACiC,SAAS,CAACgE,WAAW,GAAC,KAAK,CAAC;MAACvM,CAAC,IAAE2H,EAAE,CAAC3H,CAAC,CAAC;MAAC,IAAIE,CAAC,GAAC,mBAAmB,KAAGoM,EAAE,IAAEhG,CAAC,EAAEiC,SAAS,YAAY/F,CAAC,GAAC8D,CAAC,CAACiC,SAAS,CAACiE,4BAA4B,GAAC,KAAK,CAAC;MAACtM,CAAC,IAAE2H,EAAE,CAAC3H,CAAC,CAAC;IAAA,CAAC,EAAEoG,CAAC,EAAEiC,SAAS,YAAY/F,CAAC,IAAE,CAACkF,EAAE,GAAC,GAAG,GAAC,IAAI,CAAC;IAAC,IAAI4E,EAAE,GAAChG,CAAC,EAAEiC,SAAS,EAAEC,aAAa,IAAE,UAAU;MAACiE,EAAE,GAACnG,CAAC,EAAEiC,SAAS,EAAEE,gBAAgB,IAAE,SAAS;MAACiE,EAAE,GAACjJ,CAAC,CAACgJ,EAAE,CAAC,EAAEb,WAAW,IAAEtF,CAAC,EAAEiC,SAAS,EAAEoE,cAAc,CAACC,IAAI,IAAE,mBAAmB;MAACC,EAAE,GAACpJ,CAAC,CAACgJ,EAAE,CAAC,EAAEK,IAAI,IAAExG,CAAC,EAAEiC,SAAS,EAAEoE,cAAc,CAACI,IAAI,KAAG7M,CAAC,IAAE,aAAaF,CAAC,CAAC+D,CAAC,EAAC;QAAC,GAAG7D;MAAC,CAAC,CAAC,CAAC;MAAC8M,EAAE,GAAC,mBAAmB,KAAGN,EAAE,GAACA,EAAE,CAACO,WAAW,CAAC,CAAC,GAACP,EAAE;IAAC9L,CAAC,GAACU,CAAC,GAAC,+BAA+B0L,EAAE,EAAE,GAACjI,CAAC,GAACA,CAAC,CAACmI,OAAO,GAACtE,EAAE,GAAC,oBAAoB,GAACF,EAAE,GAAC1G,CAAC,IAAEsG,EAAE,GAAC,SAAS,GAAC,gBAAgB,GAAC,eAAe0E,EAAE,EAAE;IAAC,IAAIG,EAAE,GAAC,0DAA0D;IAAC7L,CAAC,GAAC6L,EAAE,GAAC5F,EAAE,MAAID,EAAE,EAAEE,cAAc,CAACC,MAAM,IAAE,CAAC,CAAC,GAAC,4BAA4B,GAAC,oBAAoB,GAACN,EAAE,IAAE,CAAC,IAAEpC,CAAC,GAACoI,EAAE,GAAC,0BAA0B,GAACpI,CAAC,GAACoI,EAAE,GAACpI,CAAC,CAACqI,MAAM,GAACxE,EAAE,GAACuE,EAAE,GAAC,8CAA8C,GAACzE,EAAE,IAAEJ,EAAE,GAAC6E,EAAE,GAAC,8DAA8D,GAAC,UAAU,KAAGV,EAAE,IAAE/L,CAAC,GAACyM,EAAE,GAAC,8CAA8C,GAAC,UAAU,KAAGV,EAAE,GAACU,EAAE,GAAC,6DAA6D,GAAC,gBAAgB,KAAGb,EAAE,GAACa,EAAE,GAAC,yCAAyC,GAAC,iBAAiB,KAAGb,EAAE,IAAElK,CAAC,CAAC,CAAC,KAAG+K,EAAE,GAAC7K,CAAC,CAACgF,EAAE,CAAC,GAAC,oFAAoF,GAAC,kDAAkD,CAAC;IAAC,IAAI+F,EAAE,GAACnG,EAAE,EAAED,gBAAgB,EAAEqG,IAAI,CAAEtN,CAAC,IAAE,iBAAiB,KAAGA,CAAC,CAACyI,gBAAiB,CAAC;MAAC8E,EAAE,GAAC,iBAAiB,KAAGd,EAAE,KAAGnK,CAAC,CAACgF,EAAE,CAAC,IAAEvC,CAAC,KAAGnD,CAAC,CAAC2C,iBAAiB,CAAC,CAAC;IAAa,OAAOrE,CAAC,CAACE,CAAC,EAAC;MAACoN,QAAQ,EAAC,CAAC,aAAaxN,CAAC,CAAC0B,CAAC,EAAC;QAAC+L,MAAM,EAAC7H,CAAC,IAAEE,CAAC,KAAGF,CAAC,GAACF,CAAC,GAAC,KAAK;MAAC,CAAC,CAAC,EAAC,aAAaxF,CAAC,CAACwN,CAAC,EAAC;QAACF,QAAQ,EAAC,CAAC,aAAaxN,CAAC,CAAC2N,CAAC,EAAC;UAACC,UAAU,EAACf,EAAE;UAACgB,OAAO,EAACvM,CAAC;UAACwM,IAAI,EAAC,CAAC,CAAC/I;QAAC,CAAC,CAAC,EAAC,aAAa7E,CAAC,CAACkB,CAAC,EAAC;UAACoM,QAAQ,EAAC,CAAC,aAAaxN,CAAC,CAAC,IAAI,EAAC;YAACwN,QAAQ,EAAC5M;UAAC,CAAC,CAAC,EAAC,aAAaZ,CAAC,CAAC,GAAG,EAAC;YAACwN,QAAQ,EAACL;UAAE,CAAC,CAAC,EAACzE,EAAE,IAAE,CAAChB,EAAE,IAAEO,EAAE,GAAC,IAAI,GAAC,aAAa/H,CAAC,CAAC,GAAG,EAAC;YAACsN,QAAQ,EAAC,CAAC,aAAa,EAAC,GAAG,EAAC,aAAaxN,CAAC,CAAC,GAAG,EAAC;cAAC+N,IAAI,EAACrG,EAAE;cAACsG,MAAM,EAAC,QAAQ;cAACC,KAAK,EAAC;gBAACC,cAAc,EAAC;cAAW,CAAC;cAACV,QAAQ,EAAC;YAAsB,CAAC,CAAC,EAAC5F,EAAE,IAAE,aAAa1H,CAAC,CAACE,CAAC,EAAC;cAACoN,QAAQ,EAAC,CAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,aAAaxN,CAAC,CAAC,GAAG,EAAC;gBAAC+N,IAAI,EAACnG,EAAE;gBAACoG,MAAM,EAAC,QAAQ;gBAACC,KAAK,EAAC;kBAACC,cAAc,EAAC;gBAAW,CAAC;gBAACV,QAAQ,EAAC;cAAyB,CAAC,CAAC;YAAC,CAAC,CAAC;UAAC,CAAC,CAAC;QAAC,CAAC,CAAC,EAACD,EAAE,GAAC,aAAavN,CAAC,CAACkB,CAAC,EAAC;UAACiN,OAAO,EAACA,CAAA,KAAId,EAAE,IAAEA,EAAE,EAAEe,UAAU,CAAC,CAAC;UAACC,QAAQ,EAAC/M,CAAC;UAACkM,QAAQ,EAAC;QAAwB,CAAC,CAAC,GAACzI,CAAC,IAAEnD,CAAC,CAAC2C,iBAAiB,IAAEuB,CAAC,KAAGF,CAAC,GAAC,aAAa5F,CAAC,CAACkB,CAAC,EAAC;UAACiN,OAAO,EAACzI,CAAC;UAAC8H,QAAQ,EAAC;QAAwB,CAAC,CAAC,GAAC9E,EAAE,IAAE,CAACpH,CAAC,IAAEgH,EAAE,GAAC,aAAatI,CAAC,CAACkB,CAAC,EAAC;UAACiN,OAAO,EAACA,CAAA,KAAI;YAACjM,CAAC,CAAC,CAAC,CAAC,CAAC,EAACyH,EAAE,CAAC,CAAC;UAAA,CAAC;UAAC0E,QAAQ,EAACrM,CAAC;UAACwL,QAAQ,EAACxL,CAAC,GAAC,SAAS,GAAC;QAAuB,CAAC,CAAC,GAAC,CAACV,CAAC,IAAEyD,CAAC,EAAEuJ,SAAS,IAAEnH,EAAE,GAAC,CAAC,GAAC,aAAanH,CAAC,CAACkB,CAAC,EAAC;UAACiN,OAAO,EAACA,CAAA,KAAI;YAAC/G,EAAE,CAACD,EAAE,GAAC,CAAC,CAAC,EAACnC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAC0D,EAAE,IAAExG,CAAC,CAAC,CAAC,CAAC,CAAC,EAACyH,EAAE,CAAC,CAAC,IAAErD,CAAC,EAAEiI,YAAY,CAAC,CAAC;UAAA,CAAC;UAACF,QAAQ,EAAC,CAAC/M,CAAC,KAAG,CAACyD,CAAC,EAAEuJ,SAAS,IAAEnH,EAAE,IAAE,CAAC,CAAC;UAACqG,QAAQ,EAAC;QAAO,CAAC,CAAC,GAAClM,CAAC,IAAEyD,CAAC,GAAC,IAAI,GAAC,aAAa/E,CAAC,CAACkB,CAAC,EAAC;UAACiN,OAAO,EAACA,CAAA,KAAI,CAAC,CAAC;UAACE,QAAQ,EAAC,CAAC,CAAC;UAACb,QAAQ,EAAC;QAAY,CAAC,CAAC;MAAC,CAAC,CAAC,EAAC,aAAaxN,CAAC,CAACwB,CAAC,EAAC,CAAC,CAAC,CAAC;IAAC,CAAC,CAAC;EAAA,CAAC;AAAC,IAAIkM,CAAC,GAAC,aAAa9M,CAAC,CAAC4N,GAAG,CAACC,UAAU,CAAC;IAAC7C,WAAW,EAAC,kBAAkB;IAAC8C,WAAW,EAAC;EAAe,CAAC,CAAC,CAAC,CAAC,mGAAmG,CAAC,CAAC;EAAC1J,CAAC,GAAC,aAAapE,CAAC,CAAC4N,GAAG,CAACC,UAAU,CAAC;IAAC7C,WAAW,EAAC,kBAAkB;IAAC8C,WAAW,EAAC;EAAe,CAAC,CAAC,CAAC,CAAC,gPAAgP,CAAC,CAAC;AAAC,MAAMf,CAAC,GAACrN,CAAC,IAAE;EAAC,IAAIE,CAAC,GAACF,CAAC,CAACsN,UAAU,CAAC;EAAa,OAAO5N,CAAC,CAACI,CAAC,EAAC;IAACoN,QAAQ,EAAC,aAAaxN,CAAC,CAACgF,CAAC,EAAC;MAACwI,QAAQ,EAAC,aAAatN,CAAC,CAAC,KAAK,EAAC;QAACsN,QAAQ,EAAC,CAAC,aAAaxN,CAAC,CAACsB,CAAC,EAAC;UAACuM,OAAO,EAACvN,CAAC,CAACuN,OAAO;UAACC,IAAI,EAACxN,CAAC,CAACwN;QAAI,CAAC,CAAC,EAAC,QAAQ,IAAE,OAAOtN,CAAC,GACp5W,aAAaR,CAAC,CAAC,MAAM,EAAC;UAACiO,KAAK,EAAC;YAACU,UAAU,EAAC,QAAQnO,CAAC,IAAI;YAACoO,MAAM,EAAC,MAAM;YAACC,KAAK,EAAC,MAAM;YAACC,YAAY,EAAC,KAAK;YAACC,MAAM,EAAC,MAAM;YAACC,cAAc,EAAC;UAAO;QAAC,CAAC,CAAC,GAAC,aAAahP,CAAC,CAACQ,CAAC,EAAC;UAACyN,KAAK,EAAC;YAACY,KAAK,EAAC,MAAM;YAACD,MAAM,EAAC;UAAM;QAAC,CAAC,CAAC;MAAC,CAAC;IAAC,CAAC;EAAC,CAAC,CAAC;AAAA,CAAC;AAAC,SAAO7J,CAAC,IAAIkK,sBAAsB,EAACtB,CAAC,IAAIuB,aAAa,EAAC9K,CAAC,IAAI+K,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}