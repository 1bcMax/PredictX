{"ast":null,"code":"import { useCallback as t } from \"react\";\nimport { PrivyErrorCode as e } from \"../errors.mjs\";\nimport { usePrivyInternal as r } from \"./internal-context.mjs\";\nimport \"ofetch\";\nimport \"./index.mjs\";\nconst s = s => {\n  let {\n    initLinkWithPasskey: o,\n    linkWithPasskey: i,\n    passkeyAuthState: a,\n    setPasskeyAuthState: n\n  } = r();\n  return {\n    linkWithPasskey: t(async () => {\n      try {\n        await o();\n        let t = await i();\n        if (!t) throw Error(\"Error, user not found\");\n        let e = t.linkedAccounts.filter(t => \"passkey\" === t.type).sort((t, e) => e.latestVerifiedAt.getTime() - t.latestVerifiedAt.getTime())[0];\n        s?.onSuccess?.({\n          user: t,\n          linkMethod: \"passkey\",\n          linkedAccount: e\n        });\n      } catch (t) {\n        throw n({\n          status: \"error\",\n          error: t\n        }), s?.onError?.(t.privyErrorCode || e.UNKNOWN_AUTH_ERROR, {\n          linkMethod: \"passkey\"\n        }), t;\n      }\n    }, [i]),\n    state: a\n  };\n};\nexport { s as useLinkWithPasskey };","map":{"version":3,"names":["useCallback","t","PrivyErrorCode","e","usePrivyInternal","r","s","initLinkWithPasskey","o","linkWithPasskey","i","passkeyAuthState","a","setPasskeyAuthState","n","Error","linkedAccounts","filter","type","sort","latestVerifiedAt","getTime","onSuccess","user","linkMethod","linkedAccount","status","error","onError","privyErrorCode","UNKNOWN_AUTH_ERROR","state","useLinkWithPasskey"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/dist/esm/hooks/useLinkWithPasskey.mjs"],"sourcesContent":["import{useCallback as t}from\"react\";import{PrivyErrorCode as e}from\"../errors.mjs\";import{usePrivyInternal as r}from\"./internal-context.mjs\";import\"ofetch\";import\"./index.mjs\";const s=s=>{let{initLinkWithPasskey:o,linkWithPasskey:i,passkeyAuthState:a,setPasskeyAuthState:n}=r();return{linkWithPasskey:t((async()=>{try{await o();let t=await i();if(!t)throw Error(\"Error, user not found\");let e=t.linkedAccounts.filter((t=>\"passkey\"===t.type)).sort(((t,e)=>e.latestVerifiedAt.getTime()-t.latestVerifiedAt.getTime()))[0];s?.onSuccess?.({user:t,linkMethod:\"passkey\",linkedAccount:e})}catch(t){throw n({status:\"error\",error:t}),s?.onError?.(t.privyErrorCode||e.UNKNOWN_AUTH_ERROR,{linkMethod:\"passkey\"}),t}}),[i]),state:a}};export{s as useLinkWithPasskey};\n"],"mappings":"AAAA,SAAOA,WAAW,IAAIC,CAAC,QAAK,OAAO;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,eAAe;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,wBAAwB;AAAC,OAAM,QAAQ;AAAC,OAAM,aAAa;AAAC,MAAMC,CAAC,GAACA,CAAC,IAAE;EAAC,IAAG;IAACC,mBAAmB,EAACC,CAAC;IAACC,eAAe,EAACC,CAAC;IAACC,gBAAgB,EAACC,CAAC;IAACC,mBAAmB,EAACC;EAAC,CAAC,GAACT,CAAC,CAAC,CAAC;EAAC,OAAM;IAACI,eAAe,EAACR,CAAC,CAAE,YAAS;MAAC,IAAG;QAAC,MAAMO,CAAC,CAAC,CAAC;QAAC,IAAIP,CAAC,GAAC,MAAMS,CAAC,CAAC,CAAC;QAAC,IAAG,CAACT,CAAC,EAAC,MAAMc,KAAK,CAAC,uBAAuB,CAAC;QAAC,IAAIZ,CAAC,GAACF,CAAC,CAACe,cAAc,CAACC,MAAM,CAAEhB,CAAC,IAAE,SAAS,KAAGA,CAAC,CAACiB,IAAK,CAAC,CAACC,IAAI,CAAE,CAAClB,CAAC,EAACE,CAAC,KAAGA,CAAC,CAACiB,gBAAgB,CAACC,OAAO,CAAC,CAAC,GAACpB,CAAC,CAACmB,gBAAgB,CAACC,OAAO,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC;QAACf,CAAC,EAAEgB,SAAS,GAAG;UAACC,IAAI,EAACtB,CAAC;UAACuB,UAAU,EAAC,SAAS;UAACC,aAAa,EAACtB;QAAC,CAAC,CAAC;MAAA,CAAC,QAAMF,CAAC,EAAC;QAAC,MAAMa,CAAC,CAAC;UAACY,MAAM,EAAC,OAAO;UAACC,KAAK,EAAC1B;QAAC,CAAC,CAAC,EAACK,CAAC,EAAEsB,OAAO,GAAG3B,CAAC,CAAC4B,cAAc,IAAE1B,CAAC,CAAC2B,kBAAkB,EAAC;UAACN,UAAU,EAAC;QAAS,CAAC,CAAC,EAACvB,CAAC;MAAA;IAAC,CAAC,EAAE,CAACS,CAAC,CAAC,CAAC;IAACqB,KAAK,EAACnB;EAAC,CAAC;AAAA,CAAC;AAAC,SAAON,CAAC,IAAI0B,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}