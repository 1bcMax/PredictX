{"ast":null,"code":"import { GetCrossAppConnections as r } from \"@privy-io/public-api\";\nimport { Token as e } from \"../Token.mjs\";\nimport \"jose\";\nclass t {\n  async updateOnCrossAppAuthentication(r, e) {\n    let s = e.access_token,\n      i = t.providerAccessTokenStorageKey(r);\n    await this._storage.put(i, s);\n  }\n  async getProviderAccessToken(r) {\n    let s = t.providerAccessTokenStorageKey(r),\n      i = await this._storage.get(s);\n    if (\"string\" != typeof i) return null;\n    try {\n      if (new e(i).isExpired()) throw Error(\"JWT is expired\");\n      return i;\n    } catch {\n      return await this._storage.del(s), null;\n    }\n  }\n  async getCrossAppConnections() {\n    return await this._privyInternal.fetch(r, {\n      params: {\n        app_id: this._privyInternal.appId\n      }\n    });\n  }\n  constructor(r, e) {\n    this._privyInternal = r, this._storage = e;\n  }\n}\nt.providerAccessTokenStorageKey = r => `privy:cross-app:${r}`;\nexport { t as default };","map":{"version":3,"names":["GetCrossAppConnections","r","Token","e","t","updateOnCrossAppAuthentication","s","access_token","i","providerAccessTokenStorageKey","_storage","put","getProviderAccessToken","get","isExpired","Error","del","getCrossAppConnections","_privyInternal","fetch","params","app_id","appId","constructor","default"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/node_modules/@privy-io/js-sdk-core/dist/esm/client/CrossAppApi.mjs"],"sourcesContent":["import{GetCrossAppConnections as r}from\"@privy-io/public-api\";import{Token as e}from\"../Token.mjs\";import\"jose\";class t{async updateOnCrossAppAuthentication(r,e){let s=e.access_token,i=t.providerAccessTokenStorageKey(r);await this._storage.put(i,s)}async getProviderAccessToken(r){let s=t.providerAccessTokenStorageKey(r),i=await this._storage.get(s);if(\"string\"!=typeof i)return null;try{if(new e(i).isExpired())throw Error(\"JWT is expired\");return i}catch{return await this._storage.del(s),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(r,{params:{app_id:this._privyInternal.appId}})}constructor(r,e){this._privyInternal=r,this._storage=e}}t.providerAccessTokenStorageKey=r=>`privy:cross-app:${r}`;export{t as default};\n"],"mappings":"AAAA,SAAOA,sBAAsB,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,cAAc;AAAC,OAAM,MAAM;AAAC,MAAMC,CAAC;EAAC,MAAMC,8BAA8BA,CAACJ,CAAC,EAACE,CAAC,EAAC;IAAC,IAAIG,CAAC,GAACH,CAAC,CAACI,YAAY;MAACC,CAAC,GAACJ,CAAC,CAACK,6BAA6B,CAACR,CAAC,CAAC;IAAC,MAAM,IAAI,CAACS,QAAQ,CAACC,GAAG,CAACH,CAAC,EAACF,CAAC,CAAC;EAAA;EAAC,MAAMM,sBAAsBA,CAACX,CAAC,EAAC;IAAC,IAAIK,CAAC,GAACF,CAAC,CAACK,6BAA6B,CAACR,CAAC,CAAC;MAACO,CAAC,GAAC,MAAM,IAAI,CAACE,QAAQ,CAACG,GAAG,CAACP,CAAC,CAAC;IAAC,IAAG,QAAQ,IAAE,OAAOE,CAAC,EAAC,OAAO,IAAI;IAAC,IAAG;MAAC,IAAG,IAAIL,CAAC,CAACK,CAAC,CAAC,CAACM,SAAS,CAAC,CAAC,EAAC,MAAMC,KAAK,CAAC,gBAAgB,CAAC;MAAC,OAAOP,CAAC;IAAA,CAAC,OAAK;MAAC,OAAO,MAAM,IAAI,CAACE,QAAQ,CAACM,GAAG,CAACV,CAAC,CAAC,EAAC,IAAI;IAAA;EAAC;EAAC,MAAMW,sBAAsBA,CAAA,EAAE;IAAC,OAAO,MAAM,IAAI,CAACC,cAAc,CAACC,KAAK,CAAClB,CAAC,EAAC;MAACmB,MAAM,EAAC;QAACC,MAAM,EAAC,IAAI,CAACH,cAAc,CAACI;MAAK;IAAC,CAAC,CAAC;EAAA;EAACC,WAAWA,CAACtB,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACe,cAAc,GAACjB,CAAC,EAAC,IAAI,CAACS,QAAQ,GAACP,CAAC;EAAA;AAAC;AAACC,CAAC,CAACK,6BAA6B,GAACR,CAAC,IAAE,mBAAmBA,CAAC,EAAE;AAAC,SAAOG,CAAC,IAAIoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}