{"ast":null,"code":"import { jsxs as o, Fragment as t, jsx as i } from \"react/jsx-runtime\";\nimport r from \"@heroicons/react/24/outline/EnvelopeIcon\";\nimport { forwardRef as e, useState as n } from \"react\";\nimport { useAppConfig as s } from \"../configuration/context.mjs\";\nimport { useCaptcha as m } from \"../hooks/captcha-context.mjs\";\nimport { usePrivyInternal as c } from \"../hooks/internal-context.mjs\";\nimport { usePrivyModal as a } from \"../hooks/modal-context.mjs\";\nimport { usePrivyContext as l } from \"../hooks/privy-context.mjs\";\nimport { ModalScreen as p } from \"../screens/index.mjs\";\nimport { validateEmail as h } from \"../utils/index.mjs\";\nimport { EmbeddedButton as j, PrimaryButton as d } from \"./Button.mjs\";\nimport { InputContainerForm as u, EmailUpdateForm as f } from \"./ui/forms/EmailInputForm.mjs\";\nimport { ErrorMessage as g } from \"./ui/typography/ErrorMessage.mjs\";\nimport \"../config.mjs\";\nimport \"../configuration/defaultClientConfig.mjs\";\nimport \"../constants.mjs\";\nimport \"../configuration/login-methods.mjs\";\nimport \"../configuration/wallets.mjs\";\nimport \"../connectors/chains/index.mjs\";\nimport \"../connectors/chains/arbitrum.mjs\";\nimport \"../connectors/chains/arbitrumSepolia.mjs\";\nimport \"../connectors/chains/avalanche.mjs\";\nimport \"../connectors/chains/avalancheFuji.mjs\";\nimport \"../connectors/chains/base.mjs\";\nimport \"../connectors/chains/baseSepolia.mjs\";\nimport \"../connectors/chains/berachainArtio.mjs\";\nimport \"../connectors/chains/celo.mjs\";\nimport \"../connectors/chains/celoAlfajores.mjs\";\nimport \"../connectors/chains/filecoin.mjs\";\nimport \"../connectors/chains/filecoinCalibration.mjs\";\nimport \"../connectors/chains/garnetHolesky.mjs\";\nimport \"../connectors/chains/holesky.mjs\";\nimport \"../connectors/chains/linea.mjs\";\nimport \"../connectors/chains/lineaTestnet.mjs\";\nimport \"../connectors/chains/lukso.mjs\";\nimport \"../connectors/chains/mainnet.mjs\";\nimport \"../connectors/chains/optimism.mjs\";\nimport \"../connectors/chains/optimismSepolia.mjs\";\nimport \"../connectors/chains/polygon.mjs\";\nimport \"../connectors/chains/polygonAmoy.mjs\";\nimport \"../connectors/chains/redstone.mjs\";\nimport \"../connectors/chains/sepolia.mjs\";\nimport \"../connectors/chains/zora.mjs\";\nimport \"../connectors/chains/zoraSepolia.mjs\";\nimport \"../connectors/chains/zoraTestnet.mjs\";\nimport \"../connectors/chains/utils.mjs\";\nimport \"../lib/solana/index.mjs\";\nimport \"../theme.mjs\";\nimport \"tinycolor2\";\nimport \"../lib/cybr53.mjs\";\nimport \"../hooks/index.mjs\";\nimport \"../errors.mjs\";\nimport \"ofetch\";\nimport \"../connectors/get-legacy-injected-providers.mjs\";\nimport \"../connectors/is-wallet-installed.mjs\";\nimport \"../utils/eth/getPublicClient.mjs\";\nimport \"viem\";\nimport \"./PrefetchedImage.mjs\";\nimport \"styled-components\";\nimport \"./Loader.mjs\";\nconst S = /*#__PURE__*/e((e, u) => {\n  let [f, S] = n(\"\"),\n    [E, k] = n(\"\"),\n    [v, x] = n(!1),\n    {\n      authenticated: C,\n      user: A\n    } = l(),\n    {\n      initUpdateEmail: I\n    } = c(),\n    {\n      navigate: T,\n      setModalData: D,\n      currentScreen: N\n    } = a(),\n    {\n      enabled: R,\n      token: P\n    } = m(),\n    w = s(),\n    _ = h(f) && (w.disablePlusEmails && f.includes(\"+\") ? (E || k(\"Please enter a valid email address without a '+'.\"), !1) : (E && k(\"\"), !0)),\n    O = v || !_,\n    L = () => {\n      !R || P || C ? (async o => {\n        if (!A?.email) throw Error(\"User is required to have an email address to update it.\");\n        x(!0);\n        try {\n          await I(A.email.address, f, o), T(p.AWAITING_PASSWORDLESS_CODE);\n        } catch (o) {\n          D({\n            errorModalData: {\n              error: o,\n              previousScreen: N || p.LANDING\n            }\n          });\n        }\n        x(!1);\n      })(P) : (D({\n        captchaModalData: {\n          callback: o => {\n            if (!A?.email) throw Error(\"User is required to have an email address to update it.\");\n            return I(A.email.address, f, o);\n          },\n          userIntentRequired: !1,\n          onSuccessNavigateTo: p.AWAITING_PASSWORDLESS_CODE,\n          onErrorNavigateTo: p.ERROR_SCREEN\n        }\n      }), T(p.CAPTCHA_SCREEN));\n    }; /*#__PURE__*/\n  return o(t, {\n    children: [/*#__PURE__*/o(y, {\n      children: [E && /*#__PURE__*/i(g, {\n        style: {\n          marginTop: \"0.25rem\",\n          textAlign: \"left\"\n        },\n        children: E\n      }), /*#__PURE__*/o(b, {\n        $error: !!E,\n        children: [/*#__PURE__*/i(r, {}), /*#__PURE__*/i(\"input\", {\n          ref: u,\n          id: \"email-input\",\n          type: \"email\",\n          placeholder: \"your@email.com\",\n          onChange: o => S(o.target.value),\n          onKeyUp: o => {\n            \"Enter\" === o.key && L();\n          },\n          value: f,\n          autoComplete: \"email\"\n        }), e.stacked ? null : /*#__PURE__*/i(j, {\n          isSubmitting: v,\n          onClick: L,\n          disabled: O,\n          children: \"Submit\"\n        })]\n      })]\n    }), e.stacked ? /*#__PURE__*/i(d, {\n      loadingText: null,\n      loading: v,\n      disabled: O,\n      onClick: L,\n      children: \"Submit\"\n    }) : null]\n  });\n});\nlet y = u,\n  b = f;\nexport { S as UpdateEmailForm };","map":{"version":3,"names":["jsxs","o","Fragment","t","jsx","i","r","forwardRef","e","useState","n","useAppConfig","s","useCaptcha","m","usePrivyInternal","c","usePrivyModal","a","usePrivyContext","l","ModalScreen","p","validateEmail","h","EmbeddedButton","j","PrimaryButton","d","InputContainerForm","u","EmailUpdateForm","f","ErrorMessage","g","S","E","k","v","x","authenticated","C","user","A","initUpdateEmail","I","navigate","T","setModalData","D","currentScreen","N","enabled","R","token","P","w","_","disablePlusEmails","includes","O","L","email","Error","address","AWAITING_PASSWORDLESS_CODE","errorModalData","error","previousScreen","LANDING","captchaModalData","callback","userIntentRequired","onSuccessNavigateTo","onErrorNavigateTo","ERROR_SCREEN","CAPTCHA_SCREEN","children","y","style","marginTop","textAlign","b","$error","ref","id","type","placeholder","onChange","target","value","onKeyUp","key","autoComplete","stacked","isSubmitting","onClick","disabled","loadingText","loading","UpdateEmailForm"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/dist/esm/components/UpdateEmailForm.mjs"],"sourcesContent":["import{jsxs as o,Fragment as t,jsx as i}from\"react/jsx-runtime\";import r from\"@heroicons/react/24/outline/EnvelopeIcon\";import{forwardRef as e,useState as n}from\"react\";import{useAppConfig as s}from\"../configuration/context.mjs\";import{useCaptcha as m}from\"../hooks/captcha-context.mjs\";import{usePrivyInternal as c}from\"../hooks/internal-context.mjs\";import{usePrivyModal as a}from\"../hooks/modal-context.mjs\";import{usePrivyContext as l}from\"../hooks/privy-context.mjs\";import{ModalScreen as p}from\"../screens/index.mjs\";import{validateEmail as h}from\"../utils/index.mjs\";import{EmbeddedButton as j,PrimaryButton as d}from\"./Button.mjs\";import{InputContainerForm as u,EmailUpdateForm as f}from\"./ui/forms/EmailInputForm.mjs\";import{ErrorMessage as g}from\"./ui/typography/ErrorMessage.mjs\";import\"../config.mjs\";import\"../configuration/defaultClientConfig.mjs\";import\"../constants.mjs\";import\"../configuration/login-methods.mjs\";import\"../configuration/wallets.mjs\";import\"../connectors/chains/index.mjs\";import\"../connectors/chains/arbitrum.mjs\";import\"../connectors/chains/arbitrumSepolia.mjs\";import\"../connectors/chains/avalanche.mjs\";import\"../connectors/chains/avalancheFuji.mjs\";import\"../connectors/chains/base.mjs\";import\"../connectors/chains/baseSepolia.mjs\";import\"../connectors/chains/berachainArtio.mjs\";import\"../connectors/chains/celo.mjs\";import\"../connectors/chains/celoAlfajores.mjs\";import\"../connectors/chains/filecoin.mjs\";import\"../connectors/chains/filecoinCalibration.mjs\";import\"../connectors/chains/garnetHolesky.mjs\";import\"../connectors/chains/holesky.mjs\";import\"../connectors/chains/linea.mjs\";import\"../connectors/chains/lineaTestnet.mjs\";import\"../connectors/chains/lukso.mjs\";import\"../connectors/chains/mainnet.mjs\";import\"../connectors/chains/optimism.mjs\";import\"../connectors/chains/optimismSepolia.mjs\";import\"../connectors/chains/polygon.mjs\";import\"../connectors/chains/polygonAmoy.mjs\";import\"../connectors/chains/redstone.mjs\";import\"../connectors/chains/sepolia.mjs\";import\"../connectors/chains/zora.mjs\";import\"../connectors/chains/zoraSepolia.mjs\";import\"../connectors/chains/zoraTestnet.mjs\";import\"../connectors/chains/utils.mjs\";import\"../lib/solana/index.mjs\";import\"../theme.mjs\";import\"tinycolor2\";import\"../lib/cybr53.mjs\";import\"../hooks/index.mjs\";import\"../errors.mjs\";import\"ofetch\";import\"../connectors/get-legacy-injected-providers.mjs\";import\"../connectors/is-wallet-installed.mjs\";import\"../utils/eth/getPublicClient.mjs\";import\"viem\";import\"./PrefetchedImage.mjs\";import\"styled-components\";import\"./Loader.mjs\";const S=/*#__PURE__*/e(((e,u)=>{let[f,S]=n(\"\"),[E,k]=n(\"\"),[v,x]=n(!1),{authenticated:C,user:A}=l(),{initUpdateEmail:I}=c(),{navigate:T,setModalData:D,currentScreen:N}=a(),{enabled:R,token:P}=m(),w=s(),_=h(f)&&(w.disablePlusEmails&&f.includes(\"+\")?(E||k(\"Please enter a valid email address without a '+'.\"),!1):(E&&k(\"\"),!0)),O=v||!_,L=()=>{!R||P||C?(async o=>{if(!A?.email)throw Error(\"User is required to have an email address to update it.\");x(!0);try{await I(A.email.address,f,o),T(p.AWAITING_PASSWORDLESS_CODE)}catch(o){D({errorModalData:{error:o,previousScreen:N||p.LANDING}})}x(!1)})(P):(D({captchaModalData:{callback:o=>{if(!A?.email)throw Error(\"User is required to have an email address to update it.\");return I(A.email.address,f,o)},userIntentRequired:!1,onSuccessNavigateTo:p.AWAITING_PASSWORDLESS_CODE,onErrorNavigateTo:p.ERROR_SCREEN}}),T(p.CAPTCHA_SCREEN))};/*#__PURE__*/return o(t,{children:[/*#__PURE__*/o(y,{children:[E&&/*#__PURE__*/i(g,{style:{marginTop:\"0.25rem\",textAlign:\"left\"},children:E}),/*#__PURE__*/o(b,{$error:!!E,children:[/*#__PURE__*/i(r,{}),/*#__PURE__*/i(\"input\",{ref:u,id:\"email-input\",type:\"email\",placeholder:\"your@email.com\",onChange:o=>S(o.target.value),onKeyUp:o=>{\"Enter\"===o.key&&L()},value:f,autoComplete:\"email\"}),e.stacked?null:/*#__PURE__*/i(j,{isSubmitting:v,onClick:L,disabled:O,children:\"Submit\"})]})]}),e.stacked?/*#__PURE__*/i(d,{loadingText:null,loading:v,disabled:O,onClick:L,children:\"Submit\"}):null]})}));let y=u,b=f;export{S as UpdateEmailForm};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}