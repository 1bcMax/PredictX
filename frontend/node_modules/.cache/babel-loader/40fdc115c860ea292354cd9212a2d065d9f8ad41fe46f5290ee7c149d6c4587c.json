{"ast":null,"code":"import { VoidSigner as r } from \"@ethersproject/abstract-signer\";\nimport { StaticJsonRpcProvider as t } from \"@ethersproject/providers\";\nimport { PrivyConnectorError as e } from \"../errors.mjs\";\nimport { isArbitrum as i, defaultGasForArbitrum as p } from \"../gas/arbitrum.mjs\";\nimport { isBsc as s, defaultGasForBsc as o } from \"../gas/bsc.mjs\";\nimport { isOpStack as a, defaultGasForOpStack as n } from \"../gas/op-stack.mjs\";\nimport { isPolygon as m, defaultGasForPolygon as c } from \"../gas/polygon.mjs\";\nimport { defaultGasLimit as l, defaultGasForEvmChain as h } from \"./gas.mjs\";\nimport \"../types.mjs\";\nimport \"@ethersproject/bignumber\";\nimport \"../../chains/arbitrum.mjs\";\nimport \"../../chains/arbitrumGoerli.mjs\";\nimport \"../../chains/arbitrumSepolia.mjs\";\nimport \"./ethers.mjs\";\nimport \"@ethersproject/contracts\";\nimport \"@ethersproject/transactions\";\nimport \"../../chains/base.mjs\";\nimport \"../../chains/baseGoerli.mjs\";\nimport \"../../chains/baseSepolia.mjs\";\nimport \"../../chains/optimism.mjs\";\nimport \"../../chains/optimismGoerli.mjs\";\nimport \"../../chains/optimismSepolia.mjs\";\nimport \"../../chains/zora.mjs\";\nimport \"../../chains/zoraSepolia.mjs\";\nimport \"../../chains/zoraTestnet.mjs\";\nimport \"@ethersproject/units\";\nimport \"fetch-retry\";\nimport \"../../chains/polygon.mjs\";\nimport \"../../chains/polygonAmoy.mjs\";\nimport \"../../chains/polygonMumbai.mjs\";\nconst u = (r, i, p, s) => {\n    let o = Number(r),\n      a = i.find(r => r.id === o);\n    if (!a) throw new e(`Unsupported chainId ${r}`, 4901);\n    return new t(a.rpcUrls.privyWalletOverride && a.rpcUrls.privyWalletOverride.http[0] ? a.rpcUrls.privyWalletOverride.http[0] : p.rpcUrls && p.rpcUrls[o] ? p.rpcUrls[o] : a.rpcUrls.privy?.http[0] ? {\n      url: a.rpcUrls.privy.http[0],\n      headers: {\n        \"privy-app-id\": s.appId\n      }\n    } : a.rpcUrls.public?.http[0] ? a.rpcUrls.public?.http[0] : a.rpcUrls.default?.http[0]);\n  },\n  d = (r, t, i) => {\n    let p,\n      s = r.id,\n      o = Number(r.id);\n    if (r.rpcUrls.privyWalletOverride && r.rpcUrls.privyWalletOverride.http[0]) p = r.rpcUrls.privyWalletOverride.http[0];else if (t.rpcUrls && t.rpcUrls[o]) p = t.rpcUrls[o];else if (r.rpcUrls.privy?.http[0]) {\n      let t = new URL(r.rpcUrls.privy.http[0]);\n      t.searchParams.append(\"privyAppId\", i), p = t.toString();\n    } else p = r.rpcUrls.public?.http[0] ? r.rpcUrls.public.http[0] : r.rpcUrls.default?.http[0];\n    if (!p) throw new e(`No RPC url found for ${s}`);\n    return p;\n  };\nfunction y(r) {\n  return /^-?0x[a-f0-9]+$/i.test(r);\n}\nfunction f(r) {\n  for (let t of [\"gasLimit\", \"gasPrice\", \"value\", \"maxPriorityFeePerGas\", \"maxFeePerGas\"]) {\n    let e = r[t];\n    if (void 0 !== e && !function (r) {\n      let t = \"number\" == typeof r,\n        e = \"bigint\" == typeof r,\n        i = \"string\" == typeof r && y(r);\n      return t || e || i;\n    }(e)) throw Error(`Transaction request property '${t}' must be a valid number, bigint, or hex string representing a quantity`);\n  }\n  if (\"number\" != typeof r.chainId) throw Error(\"Transaction request property 'chainId' must be a number\");\n}\nasync function g(t, e, u) {\n  if (e.chainId = Number(e.chainId), f(e), e.from || (e.from = t), !e.nonce) {\n    let i = new r(t, u);\n    e.nonce = await i.getTransactionCount(\"pending\");\n  }\n  return e.gasLimit || (e.gas ? (e.gasLimit = e.gas, delete e.gas) : e.gasLimit = await l(e, u)), \"string\" == typeof e.type && y(e.type) && (e.type = Number(e.type)), [23294, 23295].includes(e.chainId) && (e.type = 0), 0 === (e = m(e.chainId) ? await c(e) : i(e.chainId) ? await p(e, u) : a(e.chainId) ? await n(e, u) : s(e.chainId) ? await o(e, u) : await h(e, u)).type && delete e.accessList, 2 !== e.type && (delete e.maxPriorityFeePerGas, delete e.maxFeePerGas), e;\n}\nfunction j({\n  currentRecoveryMethod: r,\n  upgradeToRecoveryMethod: t\n}) {\n  switch (r) {\n    case \"privy\":\n    case \"user-passcode\":\n    case \"recovery-encryption-key\":\n      return !0;\n    case \"icloud\":\n    case \"google-drive\":\n      if (r === t) throw Error(\"Cannot upgrade to the existing cloud platform\");\n      return !0;\n    default:\n      throw Error(\"Unknown recovery method\");\n  }\n}\nexport { d as getJsonRpcEndpointFromChain, u as getJsonRpcProvider, g as populateTransactionRequest, j as throwIfInvalidRecoveryUpgradePath, f as validateTransactionRequest };","map":{"version":3,"names":["VoidSigner","r","StaticJsonRpcProvider","t","PrivyConnectorError","e","isArbitrum","i","defaultGasForArbitrum","p","isBsc","s","defaultGasForBsc","o","isOpStack","a","defaultGasForOpStack","n","isPolygon","m","defaultGasForPolygon","c","defaultGasLimit","l","defaultGasForEvmChain","h","u","Number","find","id","rpcUrls","privyWalletOverride","http","privy","url","headers","appId","public","default","d","URL","searchParams","append","toString","y","test","f","Error","chainId","g","from","nonce","getTransactionCount","gasLimit","gas","type","includes","accessList","maxPriorityFeePerGas","maxFeePerGas","j","currentRecoveryMethod","upgradeToRecoveryMethod","getJsonRpcEndpointFromChain","getJsonRpcProvider","populateTransactionRequest","throwIfInvalidRecoveryUpgradePath","validateTransactionRequest"],"sources":["/Users/vickyfu/Documents/PredictX/frontend/node_modules/@privy-io/react-auth/node_modules/@privy-io/js-sdk-core/dist/esm/embedded/utils/index.mjs"],"sourcesContent":["import{VoidSigner as r}from\"@ethersproject/abstract-signer\";import{StaticJsonRpcProvider as t}from\"@ethersproject/providers\";import{PrivyConnectorError as e}from\"../errors.mjs\";import{isArbitrum as i,defaultGasForArbitrum as p}from\"../gas/arbitrum.mjs\";import{isBsc as s,defaultGasForBsc as o}from\"../gas/bsc.mjs\";import{isOpStack as a,defaultGasForOpStack as n}from\"../gas/op-stack.mjs\";import{isPolygon as m,defaultGasForPolygon as c}from\"../gas/polygon.mjs\";import{defaultGasLimit as l,defaultGasForEvmChain as h}from\"./gas.mjs\";import\"../types.mjs\";import\"@ethersproject/bignumber\";import\"../../chains/arbitrum.mjs\";import\"../../chains/arbitrumGoerli.mjs\";import\"../../chains/arbitrumSepolia.mjs\";import\"./ethers.mjs\";import\"@ethersproject/contracts\";import\"@ethersproject/transactions\";import\"../../chains/base.mjs\";import\"../../chains/baseGoerli.mjs\";import\"../../chains/baseSepolia.mjs\";import\"../../chains/optimism.mjs\";import\"../../chains/optimismGoerli.mjs\";import\"../../chains/optimismSepolia.mjs\";import\"../../chains/zora.mjs\";import\"../../chains/zoraSepolia.mjs\";import\"../../chains/zoraTestnet.mjs\";import\"@ethersproject/units\";import\"fetch-retry\";import\"../../chains/polygon.mjs\";import\"../../chains/polygonAmoy.mjs\";import\"../../chains/polygonMumbai.mjs\";const u=(r,i,p,s)=>{let o=Number(r),a=i.find((r=>r.id===o));if(!a)throw new e(`Unsupported chainId ${r}`,4901);return new t(a.rpcUrls.privyWalletOverride&&a.rpcUrls.privyWalletOverride.http[0]?a.rpcUrls.privyWalletOverride.http[0]:p.rpcUrls&&p.rpcUrls[o]?p.rpcUrls[o]:a.rpcUrls.privy?.http[0]?{url:a.rpcUrls.privy.http[0],headers:{\"privy-app-id\":s.appId}}:a.rpcUrls.public?.http[0]?a.rpcUrls.public?.http[0]:a.rpcUrls.default?.http[0])},d=(r,t,i)=>{let p,s=r.id,o=Number(r.id);if(r.rpcUrls.privyWalletOverride&&r.rpcUrls.privyWalletOverride.http[0])p=r.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[o])p=t.rpcUrls[o];else if(r.rpcUrls.privy?.http[0]){let t=new URL(r.rpcUrls.privy.http[0]);t.searchParams.append(\"privyAppId\",i),p=t.toString()}else p=r.rpcUrls.public?.http[0]?r.rpcUrls.public.http[0]:r.rpcUrls.default?.http[0];if(!p)throw new e(`No RPC url found for ${s}`);return p};function y(r){return/^-?0x[a-f0-9]+$/i.test(r)}function f(r){for(let t of[\"gasLimit\",\"gasPrice\",\"value\",\"maxPriorityFeePerGas\",\"maxFeePerGas\"]){let e=r[t];if(void 0!==e&&!function(r){let t=\"number\"==typeof r,e=\"bigint\"==typeof r,i=\"string\"==typeof r&&y(r);return t||e||i}(e))throw Error(`Transaction request property '${t}' must be a valid number, bigint, or hex string representing a quantity`)}if(\"number\"!=typeof r.chainId)throw Error(\"Transaction request property 'chainId' must be a number\")}async function g(t,e,u){if(e.chainId=Number(e.chainId),f(e),e.from||(e.from=t),!e.nonce){let i=new r(t,u);e.nonce=await i.getTransactionCount(\"pending\")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await l(e,u)),\"string\"==typeof e.type&&y(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),0===(e=m(e.chainId)?await c(e):i(e.chainId)?await p(e,u):a(e.chainId)?await n(e,u):s(e.chainId)?await o(e,u):await h(e,u)).type&&delete e.accessList,2!==e.type&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function j({currentRecoveryMethod:r,upgradeToRecoveryMethod:t}){switch(r){case\"privy\":case\"user-passcode\":case\"recovery-encryption-key\":return!0;case\"icloud\":case\"google-drive\":if(r===t)throw Error(\"Cannot upgrade to the existing cloud platform\");return!0;default:throw Error(\"Unknown recovery method\")}}export{d as getJsonRpcEndpointFromChain,u as getJsonRpcProvider,g as populateTransactionRequest,j as throwIfInvalidRecoveryUpgradePath,f as validateTransactionRequest};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}